window.Mntl=window.Mntl||{},window.Mntl.trace=(()=>{const n={},o=(()=>{if(typeof performance<"u"){const e=typeof performance<"u"&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType("navigation")[0]||null;if(e&&typeof performance.timeOrigin=="number")return e.startTime+performance.timeOrigin;if(typeof performance.timeOrigin=="number")return performance.timeOrigin;if(performance.timing&&typeof performance.timing.navigationStart=="number")return performance.timing.navigationStart}return Date.now()})();return function(e,i=null,t=""){const r=i??parseInt(Date.now()-o);return t==="push"?(n[e]||(n[e]=[]),n[e].push(r)):n[e]?t==="append"?n[e]=`${n[e]};${r}`:t==="increment"?n[e]=parseInt(n[e])+r:t==="max"?n[e]=Math.max(n[e],r):n[e]=r:n[e]=r,n}})(),window.Mntl.trace("traceLoaded"),window.addEventListener("readyForThirdPartyTracking",()=>{window.Mntl.trace("third_party_fired")}),window.addEventListener("readyForDeferredScripts",()=>{window.Mntl.trace("deferred_fired")}),(()=>{let n=!1;function o(){const i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;return i+t}window.addEventListener("mntl.scroll",()=>{n||(n=!0,window.Mntl.trace("first_scroll")),window.Mntl.trace("scroll_depth",o(),"max")});const e=document.querySelector("article");e&&e.nextElementSibling&&new IntersectionObserver((t,r)=>{const a=t[0];a.isIntersecting&&a.intersectionRatio>.01&&(window.Mntl.trace("content_depth_px",o()),r.unobserve(a.target))},{threshold:[.01]}).observe(e.nextElementSibling)})();

(function(){const e=document.documentElement.className;document.documentElement.className=e.replace("no-js","")})();

window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.iframeLoadMode=1;

/*! lazysizes - v5.3.2 */

!function(e){var t=function(w,N,x){"use strict";var s,W;if(function(){var e;var t={lazyWaitClass:"lazyloadwait",lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:true,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:true,ricTimeout:0,throttleDelay:125,expand:400};W=w.lazySizesConfig||w.lazysizesConfig||{};for(e in t){if(!(e in W)){W[e]=t[e]}}}(),!N||!N.getElementsByClassName){return{init:function(){},cfg:W,noSupport:true}}var L=N.documentElement,r=w.HTMLPictureElement,i="addEventListener",M="getAttribute",l=w[i].bind(w),S=w.setTimeout,o=w.requestAnimationFrame||S,f=w.requestIdleCallback,B=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],a={},F=Array.prototype.forEach,T=function(e,t){if(!a[t]){a[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")}return a[t].test(e[M]("class")||"")&&a[t]},I=function(e,t){if(!T(e,t)){e.setAttribute("class",(e[M]("class")||"").trim()+" "+t)}},O=function(e,t){var a;if(a=T(e,t)){e.setAttribute("class",(e[M]("class")||"").replace(a," "))}},R=function(t,a,e){var r=e?i:"removeEventListener";if(e){R(t,a)}n.forEach(function(e){t[r](e,a)})},P=function(e,t,a,r,i){var n=N.createEvent("Event");if(!a){a={}}a.instance=s;n.initEvent(t,!r,!i);n.detail=a;e.dispatchEvent(n);return n},$=function(e,t){var a;if(!r&&(a=w.picturefill||W.pf)){if(t&&t.src&&!e[M]("srcset")){e.setAttribute("srcset",t.src)}a({reevaluate:true,elements:[e]})}else if(t&&t.src){e.src=t.src}},e=function(e,t){return(getComputedStyle(e,null)||{})[t]},u=function(e,t,a){a=a||e.offsetWidth;while(a<W.minSize&&t&&!e._lazysizesWidth){a=t.offsetWidth;t=t.parentNode}return a},k=function(){var a,r;var t=[];var i=[];var n=t;var s=function(){var e=n;n=t.length?i:t;a=true;r=false;while(e.length){e.shift()()}a=false};var e=function(e,t){if(a&&!t){e.apply(this,arguments)}else{n.push(e);if(!r){r=true;(N.hidden?S:o)(s)}}};e._lsFlush=s;return e}(),q=function(a,e){return e?function(){k(a)}:function(){var e=this;var t=arguments;k(function(){a.apply(e,t)})}},c=function(e){var t,a;var r=99;var i=function(){t=null;e()};var n=function(){var e=x.now()-a;if(e<r){S(n,r-e)}else{(f||i)(i)}};return function(){a=x.now();if(!t){t=S(n,r)}}},t=function(){var s,l;var r,o,c,e;var f=/^img$/i;var d=/^iframe$/i;var i="onscroll"in w&&!/(gle|ing)bot/.test(navigator.userAgent);var v=0;var n=0;var z=function(e){v--;if(!e||v<0||!e.target){v=0}if(p.length&&v-n<1&&v<3){S(function(){while(p.length&&v-n<1&&v<4){E({target:p.shift()})}})}};var y=function(e){var t=e.target;if(t._lazyCache){delete t._lazyCache;return}z(e);I(t,W.loadedClass);O(t,W.loadingClass);R(t,m);P(t,"lazyloaded")};var t=q(y);var m=function(e){t({target:e.target})};var g=function(e,t){var a=e.getAttribute("data-load-mode")||W.iframeLoadMode;if(a==0){e.contentWindow.location.replace(t)}else if(a==1){e.src=t}};var h=function(e){var t;var a=e[M](W.srcsetAttr);if(t=W.customMedia[e[M]("data-media")||e[M]("media")]){e.setAttribute("media",t)}if(a){e.setAttribute("srcset",a)}};var u=q(function(t,e,a,r,i){var n,s,l,o,f,u;if(!(f=P(t,"lazybeforeunveil",e)).defaultPrevented){if(r){if(a){I(t,W.autosizesClass)}else{t.setAttribute("sizes",r)}}s=t[M](W.srcsetAttr);n=t[M](W.srcAttr);if(i){l=t.parentNode;o=l&&B.test(l.nodeName||"")}u=e.firesLoad||"src"in t&&(s||n||o);f={target:t};I(t,W.loadingClass);if(u){clearTimeout(c);c=S(z,2500);R(t,m,true)}if(o){F.call(l.getElementsByTagName("source"),h)}if(s){t.setAttribute("srcset",s)}else if(n&&!o){if(d.test(t.nodeName)){g(t,n)}else{t.src=n}}if(i&&(s||o)){$(t,{src:n})}}if(t._lazyRace){delete t._lazyRace}O(t,W.lazyClass);k(function(){var e=t.complete&&t.naturalWidth>1;if(!u||e){if(e){I(t,W.fastLoadedClass)}y(f);t._lazyCache=true;S(function(){if("_lazyCache"in t){delete t._lazyCache}},9)}if(t.loading=="lazy"){v--}},true)});var p=[];var C=function(e){if(e._lazyRace){return}var t;var a;var r=f.test(e.nodeName);var i=r&&(e[M](W.sizesAttr)||e[M]("sizes"));var n=i=="auto";if((n||!o)&&r&&(e[M]("src")||e.srcset)&&!e.complete&&!T(e,W.errorClass)&&T(e,W.lazyClass)){return}t=P(e,"lazyunveilread").detail;if(n){D.updateElem(e,true,e.offsetWidth)}e._lazyRace=true;v++;if((a=p.indexOf(e))!=-1){p.splice(a,1)}s.unobserve(e);l.unobserve(e);u(e,t,n,i,r)};var A=[];var b=q(function(){var e;while(A.length){e=A.shift();I(e,W.lazyWaitClass);O(e,W.lazyClass);if(e._lazyAdd){delete e._lazyAdd}}},true);var a=function(){var e,t,a;for(e=0,t=r.length;e<t;e++){if(!r[e]._lazyAdd){r[e]._lazyAdd=true;s.observe(r[e]);l.observe(r[e]);A.push(r[e]);a=true;if(!i){C(r[e])}}}if(a){b()}};var _=function(e){var t,a;for(t=0,a=e.length;t<a;t++){if(e[t].isIntersecting===false){continue}C(e[t].target)}};var E=function(e){var t,a,r,i;for(a=0,r=e.length;a<r;a++){i=e[a].target;if(e[a].isIntersecting===false){continue}if(v-n<1&&v<4){n++;C(i)}else if((t=p.indexOf(i))==-1){p.push(i)}else{p.splice(t,1)}}};return{_:function(){e=x.now();r=N.getElementsByClassName(W.lazyClass);s=new IntersectionObserver(_);l=new IntersectionObserver(E,{rootMargin:W.expand+"px "+W.expand*W.hFac+"px"});new MutationObserver(a).observe(L,{childList:true,subtree:true,attributes:true});a()},unveil:C}}(),D=function(){var a;var n=q(function(e,t,a,r){var i,n,s;e._lazysizesWidth=r;r+="px";e.setAttribute("sizes",r);if(B.test(t.nodeName||"")){i=t.getElementsByTagName("source");for(n=0,s=i.length;n<s;n++){i[n].setAttribute("sizes",r)}}if(!a.detail.dataAttr){$(e,a.detail)}});var r=function(e,t,a){var r;var i=e.parentNode;if(i){a=u(e,i,a);r=P(e,"lazybeforesizes",{width:a,dataAttr:!!t});if(!r.defaultPrevented){a=r.detail.width;if(a&&a!==e._lazysizesWidth){n(e,i,r,a)}}}};var e=function(){var e;var t=a.length;if(t){e=0;for(;e<t;e++){r(a[e])}}};var t=c(e);return{_:function(){a=N.getElementsByClassName(W.autosizesClass);l("resize",t)},checkElems:t,updateElem:r}}(),d=function(){if(!d.i&&N.getElementsByClassName){d.i=true;D._();t._()}};return S(function(){W.init&&d()}),s={cfg:W,autoSizer:D,loader:t,init:d,uP:$,aC:I,rC:O,hC:T,fire:P,gW:u,rAF:k}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});
(function(){document.addEventListener("load",t=>{t.target.tagName==="SCRIPT"&&(t.target.dataset.loaded="loaded")},{capture:!0});function e(){window.requestAnimationFrame(()=>document.documentElement.classList.add("is-window-loaded"))}document.readyState==="complete"?e():window.addEventListener("load",e)})();

const reURIAllowed=/[\-\.\+\*]/g;window.docCookies={getItem(e,n=!1){let t=document.cookie.match(new RegExp(`^ |${e}=([^;]+)`));return n?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(reURIAllowed,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:t?decodeURIComponent(t[1]):null},setItem(e,n,t,r,o,c){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;const s=this.getExpiresString(t);return document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(n)}${s}${o?`; domain=${o}`:""}${r?`; path=${r}`:""}${c?"; secure":""}`,!0},getExpiresString(e){if(!e)return"";switch(e.constructor){case Number:return e===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${e}`;case String:return`; expires=${e}`;case Date:return`; expires=${e.toUTCString()}`;default:return""}},removeItem(e,n,t){return this.hasItem(e)?(document.cookie=`${encodeURIComponent(e)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT${t?`; domain=${t}`:""}${n?`; path=${n}`:""}`,!0):!1},hasItem(e){return e?new RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")}\\s*\\=`).test(document.cookie):!1},keys(){const e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(let n=e.length,t=0;t<n;t++)e[t]=decodeURIComponent(e[t]);return e}};

(function(r){const L=function(){r.Mntl=r.Mntl||{},r.Mntl.VueInGlobe=r.Mntl.VueInGlobe||{},r.Mntl.VueInGlobe.apps=r.Mntl.VueInGlobe.apps||{},r.Mntl.VueInGlobe.comps=r.Mntl.VueInGlobe.comps||{},function(){function e(){}r.debug||(r.Mntl.DEBUG=location.search.includes("jsdebug=true"),r.Mntl.DEBUG&&r.console?r.debug={log:(...t)=>r.console.log("Mntl:",...t),error:(...t)=>r.console.error("Mntl: error:",...t),info:(...t)=>r.console.info("Mntl: info:",...t),warn:(...t)=>r.console.warn("Mntl: warn:",...t)}:r.debug={log:e,error:e,info:e,warn:e},r.debug.info("debug loaded from Mantle utilities.js"))}();function p(e,t,n){return new Promise((s,a)=>{const i=new XMLHttpRequest;i.open("GET",e),n&&n>=1e3&&(i.timeout=n,i.ontimeout=()=>{a("Ajax GET call timed out")}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onload=function(){i.status===200?s(i.response):a(i.statusText)},i.onerror=function(){a(t)},i.send()})}function S(e,t,n,o={},s=!1,a=!1){return new Promise((c,l)=>{const u=new XMLHttpRequest;if(u.open("POST",e),n&&(u.timeout=n,u.ontimeout=()=>{l("Ajax POST call timed out")}),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.onload=function(){u.status>=200&&u.status<300?c(u.response):l(a?u.status:u.statusText)},u.onerror=function(){l(`Error getting data at ${e}`)},t instanceof FormData)t.append("CSRFToken",r.Mntl.csrf()||""),u.send(t);else{const f=new FormData;for(const[d,g]of Object.entries(t))f.append(d,g);for(const[d,g]of Object.entries(o))for(const oe of g)f.append(d,oe);if(f.append("CSRFToken",r.Mntl.csrf()||"INVALID"),s){const d=new URLSearchParams(f);u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(d)}else u.send(f)}})}function $(e,t,n,o){return new Promise((a,i)=>{const c=new XMLHttpRequest;c.open("PUT",e),o&&(c.timeout=o,c.ontimeout=()=>{i("Ajax PUT call timed out")}),n&&c.setRequestHeader("Content-Type",n),c.onload=()=>{c.status===200?a(c.response):i(c.statusText)},c.onerror=()=>{i(`Error getting data at ${e}`)},c.send(t)})}function b(){const{hostname:e}=r.location;return e.slice(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}function v(e,t){let n=e.parentNode;for(;n!==document;){if(n.matches(t))return n;n=n.parentNode}return null}function A(e){const t=new URLSearchParams(e||r.location.search),n={};for(const[o,s]of t.entries())typeof n[o]>"u"&&(n[o]=s);return n}function E(){const{breakpoints:e}=r;let t=!1;for(const n in e)if(typeof e[n].arg<"u"){const o=e[n].altKey||n,s=`(${e[n].arg}: ${e[o].width})`;r.matchMedia(s).matches&&(t=n)}return t}function q(){return`/static/${P()}`}function O(){const{hostname:e}=r.location;return e.startsWith("www.")||e.startsWith("www-")}function C(e){let t=e.includes("://")?e.split("/")[2]:e.split("/")[0];return[t]=t.split(":"),t.includes(b())}function x(e,t,n){const o=document.createElement("script");o.type="text/javascript";for(const s in e)o.setAttribute(s,e[s]);o.hasAttribute("id")&&!e.id&&o.removeAttribute("id"),t&&h(o,t),n&&(o.onerror=n),document.querySelector("head").appendChild(o)}function k(e,t){const n=Date.now()+(t||3e3);let o;function s(){const{status:a}=document.fonts,i=a==="loaded"||a==="error";(i||Date.now()>n)&&(clearInterval(o),r.debug.log(`onFontLoad: ${i?a:"timed out"}`),e())}document.fonts?o=setInterval(s,200):(r.debug.log("onFontLoad browser unsupported"),e())}function V(e,t){document.readyState==="complete"?e():r.addEventListener("load",e,t||!1)}function U(e){const o="yes",s=screen.width/2-417.5,a=screen.height/2-500/2;return r.open(e,"shareWindow",`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=${o}, resizable=yes, copyhistory=no, width=835, height=500, top=${a}, left=${s}`)}function D(e){return t=>{r.dataLayer=r.dataLayer||[],r.dataLayer.push(Object.assign({},e,t))}}function M(e){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function P(e){const t=`${e?`data-${e}-`:"data-"}resource-version`;return document.querySelector("HTML").getAttribute(t)}function h(e,t,n){return!e&&!t?(r.debug.error("Mntl.utilities.scriptOnLoad() needs script and callback arguments"),!1):(n=n||[],e.dataset.loaded?t.apply(e,n):e.readyState?e.onreadystatechange=()=>{(e.readyState==="scriptAvailable"||e.readyState==="complete"||e.readyState==="loaded")&&(e.onreadystatechange=null,t.apply(e,n))}:e.onload=()=>{t.apply(e,n)},!1)}function G(e,t,n){if(e.length){const o=r.Mntl.fnUtilities.curry(h,2),s=[];for(const a of e)s.push(o(a));return r.Mntl.fnUtilities.all(s,()=>{t.apply(e,n||[])}),!0}return!1}function H({shouldReturnDdmAccountObject:e=!1,isMyrecipes:t=!1}={}){let n=r.docCookies.getItem("ddmaccount",!0);if(t&&(n=r.docCookies.getItem("myr_ddmaccount",!0)),n)try{const o=atob(n),s=JSON.parse(o);return s.ddmsessionExpiry>Date.now()?e?s:!0:!1}catch(o){return console.error("Unable to parse ddmAccountCookie",o),!1}return!1}function j(e,t,n=null,o={}){Mntl.VueInGlobe.apps[e]=r.Mntl.VueInGlobe.apps[e]||{},Mntl.VueInGlobe.apps[e].baseApp=t,n&&(Mntl.VueInGlobe.apps[e].datastore=n),Object.keys(o).length&&(Mntl.VueInGlobe.apps[e].config=o)}function Y(e){const{searchParams:t}=new URL(document.location);if(t.size===0)return e;const n=[];for(const[o,s]of t)n.push(`${o}=${encodeURIComponent(s)}`);return`${e}?${n.join("&")}`}function y(){return"ontouchstart"in r||navigator.msMaxTouchPoints}r.Modernizr=r.Modernizr||{touchevents:y()},document.querySelector("html").classList.add(y()?"touchevents":"no-touchevents");function W(e){const{body:t}=document,n=document.documentElement.contains(document.querySelector(".mntl-continuous-scroll"));M(()=>e(t)),n?document.addEventListener("continuous-article-loaded",o=>{e(o.detail)}):document.addEventListener("defer-batch-complete",o=>{o.detail.forEach(a=>{const c=a.jquery||a.fn||a.init?a[0]:a;e(c)})})}function R(e,t=0,n,o){const s=e.getBoundingClientRect().top+r.pageYOffset-t;r.scrollTo({top:s,behavior:"smooth"}),n&&n(),o&&r.history.pushState(null,null,o)}function z(e,t=.5,n=0){return new Promise(o=>{const s=new IntersectionObserver(a=>{const i=a[0],c=i.intersectionRatio*(1-n);i.isIntersecting||c>=t?(o(!0),s.disconnect()):o(!1)},{threshold:[t]});s.observe(e)})}function _(e,t,n){function o(s){e(s),t.removeEventListener(n,o)}t.addEventListener(n,o)}function m(e,t){function n(s){r.scheduler?r.scheduler.postTask(s,{priority:"user-visible"}):setTimeout(s,0)}function o(s,a,i){i?a(()=>{i(),s()}):s()}return new Promise(async s=>{if(Array.isArray(e)){const a=e.map(i=>m(i));Promise.all(a).then(()=>{o(s,n,t)})}else n(()=>{try{e()}catch(a){throw new Error(`Error -- ${a} -- occured while executing function '${e.name!==""?e.name:e.toString()}' in Mntl.utilities.callAsync()`)}o(s,n,t)})})}function I(e,t){return m(()=>{r.requestAnimationFrame(()=>{e()})},t)}function X(e,t){return()=>{m(e,t)}}function B(e,t){return()=>{I(e,t)}}function J(){return p("/authentication/token-refresh")}async function Z(e,t){function n(a,i,c){let l;return Promise.race([a,new Promise((u,f)=>l=setTimeout(f,i,c))]).finally(()=>clearTimeout(l))}const o=Symbol();let s;try{s=await n(e,t,o)}catch(a){if(a===o)console.error("promise passed to promiseTimeout timed out");else return console.error(a),a}return s}function F(e){const t=document.createElement("div");function n(o){return t.innerHTML=o,t.textContent||t.innerText||""}return n(e)}function Q(e,t,n){const o=e[0];R(o,n,t)}function K(e,t,n=0){const o=e.length?e[0]:e,s=o.offsetHeight;let a=0,i=o;for(t=typeof t=="number"?t:0,e.length>1&&r.debug.warn("More than 1 element passed to isElementVisibleY(), running method against the first element only");i&&i!==document.body;)a+=i.offsetTop,i=i.offsetParent;const c=a+s;return Math.max(0,Math.min(s,r.pageYOffset+r.innerHeight-a+n,c-r.pageYOffset-n))/s>t}function N(e,t){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e||"",n.addEventListener("load",t),document.head.appendChild(n)}function w(e,t,n,o,s,a){return new Promise((i,c)=>{const l={modelId:"accountRegistration",hashId:a,regSourceId:e,udfBrandId:t,optin:s};n.length>0&&(l.newsletterObjectIds=n),o.length>0&&(l.objectorObjectIds=o);const u=`/servemodel/model.json?${T(l)}`;p(u,"error",1e4).then(f=>{i(f)}).catch(f=>c(f))})}function ee(){const e=r.docCookies.getItem("ddmaccount",!0),t=JSON.parse(atob(e));try{return t.hashId}catch{return null}}function T(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function te(e){try{return!!new URL(e)}catch{return!1}}function ne(e){return e.replace(/\s+/g,"_").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-zA-Z])([0-9])/g,"$1_$2").replace(/([0-9])([a-zA-Z])/g,"$1_$2").toLowerCase()}return{addParameters:Y,ajaxPromiseGetCall:p,ajaxPromisePost:S,ajaxPromisePut:$,getClosestMatchingParent:v,getDomain:b,getHashId:ee,getQueryParams:A,getW:E,getStaticPath:q,handleNewsletterRegistrationRequest:w,hasWwwSubdomain:O,initVueApp:j,isCurrentDomain:C,isElementVisibleY:K,isLoggedIn:H,isVisibleElement:z,isValidUrl:te,jsonToQueryString:T,loadExternalJS:x,loadStyleSheet:N,onceDeferred:_,onFontLoad:k,onLoad:V,openWindow:U,pascalToSnake:ne,promiseTimeout:Z,pushToDataLayer:D,ready:M,readyOrDeferred:W,refreshIdToken:J,resourceVersion:P,scrollToEl:R,scrollToElement:Q,scriptOnLoad:h,scriptsOnLoad:G,stripHtml:F,isTouchDevice:y,callAsync:m,callAsyncUI:I,callbackAsync:X,callbackAsyncUI:B}}();r.Mntl.utilities=Object.assign({},r.Mntl.utilities||{},L)})(window);

window.Mntl=window.Mntl||{},Mntl.fnUtilities=function(){function s(n,t){let{length:e}=n;n.forEach(r=>{r(()=>{--e===0&&t()})})}function a(n,t=n.length){if(t<1)throw new TypeError("Mntl.fnUtilities.curry expects the provided function to have at least one argument, or set arity explicitly");return function e(...r){return r.length>=t?n(...r):function(...i){return e(...r,...i)}}}function u(n,t){for(const e in t)t[e]&&t[e].constructor&&t[e].constructor===Object?(n[e]=n[e]||{},u(n[e],t[e])):n[e]=t[e];return n}function y(n,...t){return t.reduce((e,r)=>{if(typeof e>"u")return e;if(e!==null)return e[r]},n)}function o(n){return n}function d(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n,e)}function c(n,t,e){const r=t||o,f=e||o;return Object.keys(n).reduce((i,l)=>{const p=r(l);return p&&(i[p]=f(n[l])),i},{})}function h(n,t=[]){return c(n,e=>t.includes(e)?e:null)}function m(n){let t=!1;return function(){return t?void 0:(t=!0,n.apply(this,arguments))}}function g(n){const t=n;let e=null;return function(){return e||(e=t()),e}}function w(...n){if(!n.every(t=>typeof t=="function"))throw new TypeError("All arguments provided to Mntl.fnUtilities.pipe must be functions");return function(t){return n.reduce((e,r)=>r(e),t)}}function v(n){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(;n--;)t+=e[Math.floor(Math.random()*e.length)];return t}function M(n){if(typeof n=="object")return n;let t;try{t=JSON.parse(n)}catch{t=null}return t}function O(n="0"){if(typeof n=="string")n=n.replace(/[^0-9\.]/g,"");else if(typeof n!="number")return NaN;return parseFloat(n)}function P(n,t=0){return Array.from(n).slice(t)}function A(n){return n?n.trim().replace(/\n/g," "):""}return{all:s,curry:a,deepExtend:u,getDeepValue:y,iterate:d,mapObject:c,once:m,pickObject:h,pipe:w,promiseOnce:g,randomString:v,safeJsonParse:M,sanitizeStringToDecimal:O,toArray:P,trimAllWhitespace:A}}();

window.Mntl=window.Mntl||{},Mntl.domUtilities=function(){function r(t,o){return o===null?null:t(o)?o:r(t,o.previousElementSibling)}function s(t){if(typeof t=="string")return document.createTextNode(t);const o=document.createElement(t.type);return a(o,t.props),t.children.forEach(e=>{const n=s(e);o.appendChild(n)}),o}function c(t,o){const e=o.dataset?o.dataset[t]:o.getAttribute(`data-${t.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}`);return typeof e>"u"?e:e==="null"?null:Mntl.fnUtilities.safeJsonParse(e)===null?e:Mntl.fnUtilities.safeJsonParse(e)}function d(){return[window.location.protocol,"//",window.location.host].join("")}function u(t){const o=window.getComputedStyle(t);return Math.ceil(["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","marginTop","marginBottom"].reduce((e,n)=>e+parseFloat(o[n]),0))}function f(t,o){for(const e in t)try{o.dataset[e]=t[e]}catch{window.debug.error(`Mntl.domUtilities.setDataAttrs: ${e} is a bad key. Pass keys in camelCase`)}}function l(t,o,e){t==="className"?e.className=o:e.setAttribute(t,o)}function a(t,o){Object.entries(o).forEach(([e,n])=>l(e,n,t))}function w(t,o){if(!isNaN(t)){let i=function(){Math.floor(window.scrollY).toFixed()===p&&(window.removeEventListener("mntl.scroll",i),o())};var e=i;const n=Math.floor(t),p=n.toFixed();window.addEventListener("mntl.scroll",i),i(),window.scrollTo({top:n,behavior:"smooth"})}}return{closestPreviousSibling:r,createEl:s,getData:c,getResourceRootUrl:d,outerHeight:u,scrollToWithCallback:w,setDataAttrs:f,setProp:l,setProps:a}}();

window.Mntl=window.Mntl||{},Mntl.trackingUtilities=function(r){function o(){return{event:"ddm_standard_event",event_params:{event_category:null,event_metadata:null,event_subcategory:null,event_subtype:null,event_target_url:null,event_type:null},eventCallback:()=>{document.body.dispatchEvent(new CustomEvent("click-sent",{bubbles:!0,cancelable:!0}))}}}function s(e){const n=e.indexOf("_");return n!=-1?e.substr(0,n):e}function d(e){let n="",l="",t="";if(s(e.linkContainerId)=="native-ad"){t="Advertisement",l=e.linkId?e.linkId:e.linkText?e.linkText:"No Text or ID";const{nativeAdTitle:i,nativeAdCampaignId:a}=e;i?a?n=i+" (Native Ad Campaign ID: "+a+")":n=i+" (Native Ad Campaign ID: Unknown)":a?n="Unknown (Native Ad Campaign ID: "+a+")":n="Unidentified Campaign"}else{let i=e.linkTargetURL||e.dataHref||null;const a=e.linkPinURL;(!i||i=="#")&&a&&(i=a),t=e.linkContainerId?s(e.linkContainerId):"Link Click (No Tracked Container)",n=e.linkText||e.linkId||e.linkLabel||"No Text or ID",l=i||null}return{eventAction:n,eventTargetUrl:l,eventCategory:t}}function u(e){return e.event_params.event_metadata!==null&&(e.event_params.event_metadata=JSON.stringify(e.event_params.event_metadata)),e}function c(e){const n=[];return Object.keys(e.dataset).forEach(l=>{if(l.substring(0,8)==="tracking"){const t="event_"+r.pascalToSnake(l.replace("tracking","")),i=e.dataset[l];if(t==="event_container")return;n.push({customField:t,customFieldValue:i})}}),n}function m(e,n){for(;n.parentNode!==null&&n.nodeName!==null&&n.dataset.trackingContainer!=="true";)n=n.parentNode;return n.dataset.trackingContainer!=="true"||c(n).forEach(t=>{if(t.customField in e.event_params&&(e.event_params[t.customField]=t.customFieldValue),t.customField.substring(0,14)==="event_metadata"){const i=t.customField.substring(15);e.event_params.event_metadata||(e.event_params.event_metadata={}),e.event_params.event_metadata[i]=t.customFieldValue}}),e}function v(e){return()=>{r.callAsync(()=>r.pushToDataLayer(u(e))())}}return{createEventObject:o,cleanContainerId:s,fireDDMEvent:v,getClickEventInfo:d,refiningDdmEventData:u,setCustomEventData:m}}(window.Mntl.utilities||{});

window.Mntl=window.Mntl||{},window.Mntl.throttle=function(n,e=250,o){let t,i;return function(...u){const c=o||this,l=Number(new Date);t&&l<t+e?(clearTimeout(i),i=setTimeout(function(){t=l,n.apply(c,u)},e)):(t=l,n.apply(c,u))}},Mntl.debounce=function(n,e){let o=null;return function(...t){const i=this;clearTimeout(o),o=setTimeout(function(){n.apply(i,t)},e)}};

window.googletag=window.googletag||{cmd:[]},googletag.cmd.push(()=>{let t=!1,d=!1,l=!1,n=!1;window.Mntl.trace("gpt_loaded"),googletag.pubads().addEventListener("slotRequested",e=>{t||(window.Mntl.trace("first_ad_request"),t=!0),window.Mntl.trace(`${e.slot.getSlotElementId()}_requested`,null,"append")}),googletag.pubads().addEventListener("slotResponseReceived",e=>{d||(window.Mntl.trace("first_ad_response"),d=!0),window.Mntl.trace(`${e.slot.getSlotElementId()}_received`,null,"append")}),googletag.pubads().addEventListener("slotOnload",e=>{l||(window.Mntl.trace("first_ad_load"),l=!0),window.Mntl.trace(`${e.slot.getSlotElementId()}_loaded`,null,"append")}),googletag.pubads().addEventListener("slotRenderEnded",e=>{n||(window.Mntl.trace("first_ad_render"),n=!0),window.Mntl.trace("adsrendered",1,"increment"),window.Mntl.trace(`${e.slot.getSlotElementId()}_rendered`,null,"append"),window.Mntl.trace(`${e.slot.getSlotElementId()}_info`,{id:e.advertiserId,caid:e.campaignId,coid:e.companyIds,crid:e.creativeId,lid:e.lineItemId},"push")}),googletag.pubads().addEventListener("impressionViewable",()=>{window.Mntl.trace("adsviewable",1,"increment")})});

function traceVital(t,r){if(typeof performance>"u")return;const e=performance.getEntriesByType?.(t);if(Array.isArray(e)&&e.length>0){r(e[e.length-1]);return}try{const n=new PerformanceObserver(a=>{const i=a.getEntries().find(s=>s.entryType===t);i&&(r(i),n.disconnect())});n.observe({type:t,buffered:!0})}catch{}}traceVital("navigation",t=>{window.Mntl.trace("TTFB",t.responseStart-t.startTime)}),traceVital("paint",t=>{t.name==="first-paint"?window.Mntl.trace("FP",t.startTime):t.name==="first-contentful-paint"&&window.Mntl.trace("FCP",t.startTime)}),traceVital("largest-contentful-paint",t=>{window.Mntl.trace("LCP",t.startTime)});

window.Mntl=window.Mntl||{},Mntl.breakpoints={mntlBpSm:"34em",mntlBpMd:"50em",mntlBpLg:"64em",mntlBpXl:"70em"};

window.Allrecipes=window.Allrecipes||{},window.Mntl=window.Mntl||{},window.dataLayer=window.dataLayer||[],window.Allrecipes.utilities=function(){const o=()=>{let t="";return window.matchMedia(`(max-width: ${window.Mntl.breakpoints.mntlBpSm})`).matches&&(t="base"),window.matchMedia(`(min-width: ${window.Mntl.breakpoints.mntlBpSm})`).matches&&(t="small"),window.matchMedia(`(min-width: ${window.Mntl.breakpoints.mntlBpMd})`).matches&&(t="medium"),window.matchMedia(`(min-width: ${window.Mntl.breakpoints.mntlBpLg})`).matches&&(t="large"),window.matchMedia(`(min-width: ${window.Mntl.breakpoints.mntlBpXl})`).matches&&(t="extraLarge"),t},r=(t,a)=>{let n,e,i;for(n=0;n<window.datalayer.length;n++)if(i=window.datalayer[n].abTests,i){for(e=0;e<i.length;e++)if(i[e].testName===t&&i[e].bucketValue===a)return!0;break}return!1},w=(t,a)=>{let n,e;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(i=>typeof document.body[i]=="function"?(n=i,!0):!1);t;){if(e=t.parentElement,e&&e[n](a))return e;t=e}return null},l=t=>{let a=t.offsetHeight;const n=getComputedStyle(t);return a+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),a};return window.Mntl.utilities.getW=o,{getW:o,inProctorTest:r,closest:w,outerHeight:l}}();

window.Mntl=window.Mntl||{},window.Mntl.csrfInit=(r=>{let n=null;function l(){const e='input[type="hidden"][name="CSRFToken"]';window.debug.log("Mntl.csrf: updating token references."),window.document.querySelectorAll(e).forEach(o=>o.setAttribute("value",n))}function s(e){n===e?window.debug.log("Mntl.csrf: token reset with the same value."):(n=e,l())}function d(){const e=window.docCookies.getItem("CSRFToken"),o=!window.docCookies.getItem("Mint");!o&&e&&e!==n?(window.debug.log("Mntl.csrf: resetting token from prior session."),s(e)):o&&r.ready(()=>{window.debug.log("Mntl.csrf: making contact to create new session."),r.ajaxPromiseGetCall(`/csrf-session/refresh?et=${new Date().getTime()}`,"failed to refresh session",3e4).then(i=>{try{const t=JSON.parse(i);t.csrfToken?(window.debug.log("Mntl.csrf: resetting token with new session."),s(t.csrfToken)):window.debug.error("Mntl.csrf: server responded with an invalid token.")}catch(t){window.debug.error("Mntl.csrf: failed to reset token with new session.",t)}}).catch(i=>window.debug.error(`Mntl.csrf: ${i}.`))})}function w(){return window.debug.log("Mntl.csrf: providing token."),n===null&&window.debug.error("Mntl.csrf: token requested but was never initialized."),n}function c(e,o){return window.debug.log("Mntl.csrf: initializing token."),n===null?(n=e,o&&(window.debug.log("Mntl.csrf: checking for stale token."),d())):window.debug.error("Mntl.csrf: token can only be initialized once."),w}return c})(window.Mntl.utilities);

window.Mntl=window.Mntl||{},Mntl.Maybe=function(){function t(n){this._v=n}return t.of=function(n){return new t(n)},t.prototype.isNothing=function(){return this._v===null||typeof this._v>"u"},t.prototype.map=function(n){return this.isNothing()?t.of(null):t.of(n(this._v))},t.prototype.flatMap=function(n){return this.isNothing()?null:n(this._v)},t.prototype.orElse=function(n){return this.isNothing()?n:this._v},t}();

window.Mntl=window.Mntl||{},window.dataLayer=window.dataLayer||[],Mntl.PageView=function(a){const f=`${window.location.href.substring(window.location.href.indexOf("."),window.location.href.indexOf(".com"))}.com`;let e={event:"unifiedPageview"},r=!1;function l(t){const i=t;return Mntl.fnUtilities.iterate(t,(o,n)=>{typeof e[n]==typeof o[n]||o[n]===""||e[n]===""&&typeof o[n]=="number"||(typeof e[n]=="string"&&(i[n]=String(i[n])),typeof e[n]=="number"&&(i[n]=parseInt(o[n],10)))}),i}function u(t){Object.keys(e).forEach(i=>{t.hasOwnProperty(i)&&(e[i]=t[i])})}function s(t){return r?(t&&u(l(t)),dataLayer.push(Mntl.fnUtilities.deepExtend({},e))):(debug.warn("Mntl.PageView not initialized with default values. Cannot push data."),!1)}function d(t){a.setItem("pageEntryType",t,null,"/",f)}function w(t){return r?!1:(e=Mntl.fnUtilities.deepExtend(e,t),r=!0,dataLayer.push(Mntl.fnUtilities.deepExtend({},e)))}return Mntl.utilities.onLoad(()=>{a.removeItem("pageEntryType","/",f)}),{pushToDataLayer:s,setEntryType:d,init:w}}(window.docCookies);

window.Mntl=window.Mntl||{},window.dataLayer=window.dataLayer||[],function(g,v,s,u){function T(e){return e.getAttribute("id")}function m(e){return e.dataset.ordinal||""}function w(e){let t="";return e.dataset.trackingContainer==="true"&&(t=e.dataset.trackingId||e.getAttribute("id")),t}function b(e,t){const n=[window.location.protocol,"//",window.location.hostname].join("");return!!(t.indexOf(n)!==0||/blank/.test(e.getAttribute("target")))}function h(e,t){const n=t;return Array.prototype.forEach.call(e.attributes,r=>{let l,i;r.name.indexOf("data-")===0&&(l=r.value,i=r.name.replace(/-([a-z])/g,c=>c[1].toUpperCase()),n[i]=l)}),n}function d(e,t){return e.getAttribute(t)||""}function k(e){let t=d(e,"href");return t.indexOf("//")===0?t=window.location.protocol+t:t.indexOf("/")===0&&(t=`${window.location.protocol}//${window.location.host}${t}`),t}function y(e){return v.of(e.querySelector(e.dataset.useChildUrl)).map(k).orElse("")}function C(e,t){return t.target!==e&&g.trimAllWhitespace(t.target.textContent.replace(/<[^>]*>?/gm,""))!==""?g.trimAllWhitespace(t.target.textContent.replace(/<[^>]*>?/gm,"")):e?g.trimAllWhitespace(e.textContent.replace(/<[^>]*>?/gm,"")||""):""}Mntl.clickTracking={getPixelsFromContent(e){const t=document.querySelector("main")||document.getElementById("main");let n;return t?(n=Mntl.clickTracking.getAbsoluteCoordinates(t),n.top=window.scrollY,{top:e.top-n.top,left:e.left-n.left}):{top:"",left:""}},getAbsoluteCoordinates(e){const t=e.getBoundingClientRect(),{scrollY:n}=window,{scrollX:r}=window;return{left:t.left+r,top:t.top+n}},trackClick(e,t,n,r,l){let i={event:"linkClick",linkId:d(t,"id"),linkText:d(t,"data-click-action")||C(t,e),linkLabel:d(t,"title")||d(t,"aria-label"),pageWidth:document.body.clientWidth,pageHeight:document.body.clientHeight};const c=Mntl.clickTracking.getAbsoluteCoordinates(t),o=Mntl.clickTracking.getPixelsFromContent(c);return i=Mntl.clickTracking.linkData(t,i),i.dataOrdinal=n,i.linkContainerId=r,i.domAncestorIds=l.reverse(),i.pixelsFromTopOfPage=c.top,i.pixelsFromLeftOfPage=c.left,i.pixelsFromTopOfMainContainer=o.top,i.pixelsFromLeftOfMainContainer=o.left,i=h(t,i),Mntl.clickTracking.fireEvent(i,e,t)},searchDom(e){const t=e.path||null;let n=e.target,r=null;const l=[];let i="",c="",o;function f(a){return a.dataset.clickTracked==="false"}function p(a){return f(a)?!1:(a.hasAttribute&&(i===""&&(i=m(a)),c===""&&(c=w(a)),a.hasAttribute("id")&&l.push(T(a)),(a.nodeName==="A"||a.nodeName==="BUTTON"||a.getAttribute("data-click-tracked")==="true")&&r===null&&(r=a)),!0)}if(e.target.wasTracked||window.Mntl.utilities.isTouchDevice()&&Mntl.clickTracking.dragging===!0)return!0;if(f(n))return!1;if(t&&t.length>2){for(o=0;o<t.length-2;o++)if(!p(t[o]))return!1}else for(;n.parentNode!==null&&n.nodeName!==null;){if(!p(n))return!1;n=n.parentNode}if(r!==null){const a=Mntl.clickTracking.linkData(r,{});if(Mntl.clickTracking.preventLink(e,r,a)){e.preventDefault(),Mntl.utilities.callAsync(()=>Mntl.clickTracking.trackClick(e,r,i,c,l));return}else return Mntl.clickTracking.trackClick(e,r,i,c,l)}return!1},linkData(e,t){return(e.getAttribute("href")||"")[0]==="#"?(t.linkTargetURL=e.getAttribute("href"),t.linkTargetType="onpage"):e.dataset.useChildUrl?(t.linkTargetURL=y(e),t.linkTargetType=t.linkTargetURL!==""?"offpage":""):e.nodeName.toLowerCase()==="button"||e.getAttribute("data-click-tracked")==="true"?(t.linkTargetURL="",t.linkTargetType=""):(t.linkTargetURL=k(e),t.linkTargetType="offpage"),t},preventLink(e,t,n){const r=b(t,n.linkTargetURL);return n.linkTargetType==="offpage"&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey&&!r&&t.nodeName.toLowerCase()!=="button"&&e.which===1},createDdmStandardClickEvent(e){const t=s.createEventObject(),n=s.getClickEventInfo(e),r=new Object;return t.event_params.event_type="Click",t.event_params.event_category=n.eventCategory,u.isValidUrl(n.eventTargetUrl)&&(t.event_params.event_target_url=n.eventTargetUrl,n.eventCategory.includes("social")?t.event_params.event_subtype=n.eventAction:r.label=n.eventAction),u.isValidUrl(n.eventTargetUrl)||(n.eventTargetUrl&&(n.eventTargetUrl[0]==="#"?t.event_params.event_target_url=n.eventTargetUrl:t.event_params.event_subcategory=n.eventTargetUrl),n.eventAction&&(t.event_params.event_subtype=n.eventAction)),Object.keys(r).length>0&&(t.event_params.event_metadata=r),t},fireEvent(e,t,n){let{target:r}=t,l,i=null;document.documentElement.dataset.ddmStandardTracking==="true"&&(i=s.refiningDdmEventData(s.setCustomEventData(Mntl.clickTracking.createDdmStandardClickEvent(e),n)));function o(){document.body.removeEventListener("click-sent",o,!1),window.clearTimeout(l),r.wasTracked=!0;try{r.click()}catch{r=r.closest("A"),r.wasTracked=!0,r.click()}}if(Mntl.clickTracking.preventLink(t,n,e))document.body.addEventListener("click-sent",o,!1),l=setTimeout(o,2e3),i?u.callAsync(()=>{window.dataLayer.push(i)}):window.dataLayer.push(e),t.preventDefault();else return i?u.callAsync(()=>window.dataLayer.push(i)):window.dataLayer.push(e);return!1},setDragging(){Mntl.clickTracking.dragging=!0},endDragging(){Mntl.clickTracking.dragging=!1},dragging:!1,init(){(document.body||window).addEventListener("click",Mntl.clickTracking.searchDom,!0)}},Mntl.clickTracking.init()}(window.Mntl.fnUtilities||{},window.Mntl.Maybe||{},window.Mntl.trackingUtilities||{},window.Mntl.utilities||{});

window.Mntl=window.Mntl||{},window.Mntl.PubSub=function(){const r="once",s="on",h="Attempted to publish an event that doesn't exist",f="Attempted to subscribe to an event that doesn't exist",p='Attempted to listen to an event at an incorrect frequency. Please use "on" or "once".';function i(){}function b(t,n){this.events[t][n].callback=i,this.events[t][n].frequency=null}function o(t){this.events=t.reduce((n,e)=>(n[e]=[],n),{})}return o.prototype.what=function(){return Object.keys(this.events).join(", ")},o.prototype.addEvent=function(t){return this.events.hasOwnProperty(t)?!1:(this.events[t]=[],!0)},o.prototype.deleteEvent=function(t){return this.events.hasOwnProperty(t)?(delete this.events[t],!0):!1},o.prototype.publish=function(t,n){if(!this.events.hasOwnProperty(t))throw new ReferenceError(h);n=n||{},n.type=n.type||t,this.events[t].forEach(e=>{(!e.instigator||e.instigator===n.instigator)&&(e.callback(n),e.frequency===r&&(e.callback=i,e.frequency=null))})},o.prototype.subscribe=function(t,n,e,u){let c;if(!this.events.hasOwnProperty(t))throw new ReferenceError(f);if([s,r].indexOf(u)===-1)throw new ReferenceError(p);return c=this.events[t].push({callback:e,frequency:u,instigator:n})-1,{unSubscribe:b.bind(this,t,c)}},o.prototype.on=function(t,n,e){this.subscribe(t,n,e,s)},o.prototype.once=function(t,n,e){this.subscribe(t,n,e,r)},o}();

window.Mntl=window.Mntl||{},window.MMads=window.MMads||{},Mntl.RTB=function(p,M,v){const h=new Mntl.PubSub(["performanceTracking"]);let c={},b={};const _=new Map,E=3e3;let L=!1,W=!1,S=!1,H=!1,J=!1,Z=!1,B=0,y=0,D=0,K=0,Q=0,X=!1,z,U,Y=!1,ee={},A;const te={amazon:".amazon-adsystem.com/e/dtb/bid",appnexus:"ib.adnxs.com/ut/v3/prebid",criteo:"bidder.criteo.com/cdb",ias:"pixel.adsafeprotected.com/services/pub",index:".casalemedia.com/cygnus",pubmatic:"hbopenbid.pubmatic.com/translator",rubicon:".rubiconproject.com/a/api/fastlane.json",triplelift:"tlx.3lift.com/header/auction",ttd:"direct.adsrvr.org/bid/bidder"};let ie=!1,O;function se(){return Mntl.CMP&&Mntl.CMP.isConsentRequired()}function ne(){const{getDfpId:e,getSitePath:t,getPageType:i}=Mntl.GPT;return`${e()}/${t()}/${i()}/preroll`.replace(".mob",".video.mob").replace(".com",".video")}function k(e,t=Mntl.GPT.getUseLmdFormat(),i=Mntl.GPT.getUseOxygen()){let s=e.config.id;const n=e.config.id==="preroll";let r=n?ne():e.gptSlot.getAdUnitPath();if(!n){if(!t&&!i)return r;const a=r.replace(/\/none|other\//,"/na/").split("/").filter(u=>u);a.length>4&&a.pop(),s=`div-gpt-${s}`,a.push(s),r=`/${a.join("/")}`}return r}function fe(e){const t=e.config.id,i=["mob-square-fixed-2","mob-square-fixed-step-2"],s=Mntl.GPT.getPageTargeting().sponstag;if(i.indexOf(t)!==-1||e.config.type==="native")return{isMWS:s}}function oe(e){if(!e||!e.config.sizes.length)return window.debug.error("No Slot Sizes Provided"),[];const t=[[160,600],[300,250],[300,600],[300,1050],[320,50],[340,430],[600,250],[728,90],[970,90],[970,250]];return e.config.sizes.filter(i=>t.find(s=>i[0]===s[0]&&i[1]===s[1]))}function $(e){return e<400?"Small":e<600?"Medium":"Large"}function G(){return window.docCookies.getItem("lr_input")}const I={noop:{preload(){return!1},src(){return!1},setup(){}},liveConnect:{waitForConsentToLoad:!0,scriptsLoaded:!1,preload(){return!1},src(){if(this.id)return`//b-code.liadm.com/${this.id}.min.js`},setup(e,t){t()}},prebid:{waitForConsentToLoad:!0,scriptsLoaded:!1,config:{},userIdConfig:{},hasResetUserIdDelay:!1,priceGranularity:{},source:{},preload(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],this.setupATS(),window.pbjs.que.push(()=>{window.pbjs.onEvent("bidResponse",this.setOutstreamRenderer),window.pbjs.onEvent("bidWon",this.logPrebidWinner),window.pbjs.aliasBidder("ix","roundel"),this.setPrebidLogging(),this.setConsentManagement(),this.setCacheConfig(),this.setUserModuleConfig(),this.setActivityControls(),this.setPriceGranularityConfig(),this.setPageUrl(),this.setOrtb2FirstPartyData(),this.setOrtb2Device(),this.setIasRealTimeData(),this.setFloorConfig(),this.setCriteoSettings(),window.Mntl.GPT.getUseLmdFormat()&&this.setBidCaching(),se()&&(Mntl.CMP.isOptInConsent()&&Mntl.CMP.onConsentChange(this.setPrebidDeviceAccess),this.setPrebidDeviceAccess()),this.setBidderUserConfig(),window.Mntl.DEBUG&&this.enableTestAdBids()})},src(){const e=v.getStaticPath();return window.location.search.includes("globeResourceMinify=false")?`${e}/static/modules/bundles/js/prebidjs/default/dev/prebid.js`:this.source.url?`${e}/static${this.source.url}`:`${e}/static/modules/bundles/js/prebidjs/default/dist/prebid.js`},setSrc(e){this.source=Object.assign(this.source,{url:e})},setup(e,t){if(this.scriptsLoaded){const i=this.getAdUnits(e),s=e.length>0&&e[0].config.type==="video";if(i.length){const n=s?E:B,r=n+y;debug.log("Mntl.RTB.prebid: requesting bids for ad units:",i,` with bid response timeout ${n}, with user ID delay ${y}, and total timeout budget ${r}`),window.pbjs.que.push(()=>{window.pbjs.requestBids({timeout:n,adUnits:i,bidsBackHandler:()=>{this.resetUserIdDelay();const a=this.getTargeting(s);s||(this.trackPrebidMetrics(e),this.addPrebidValuesToSlotTargeting(e,a)),t({...s&&a})}})})}else debug.log("Mntl.RTB.prebid: no ad units were mapped from slots:",e),t()}else t()},setupATS(){this.addATSAnalytics(),this.addATSEnvelopeListener()},addATSAnalytics(){window.pbjs.que.push(()=>{window.pbjs.enableAnalytics([{provider:"atsAnalytics",options:{pid:"13818"}}])})},addATSEnvelopeListener(){window.addEventListener("envelopeModuleReady",()=>{const e=G();e&&(debug.log("Mntl.RTB: setting additional ats data lr_input: ",e),window.atsenvelopemodule.setAdditionalData({type:"emailHashes",id:[e]}))})},getTargeting(e){return e?window.pbjs.getAdserverTargetingForAdUnitCode("preroll"):window.pbjs.getAdserverTargeting()},setOutstreamRenderer(e){e&&e.bidder==="grid"&&e.mediaType==="video"?e.renderer={url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:t=>{const i=p.getElementById(t.adUnitCode).querySelectorAll("div[id^='google_ads']");i[0]&&i[0].style.setProperty("display","none"),Mntl.utilities.loadExternalJS({src:t.renderer.url},()=>{ANOutstreamVideo.renderAd({targetId:t.adUnitCode,adResponse:t.adResponse,rendererOptions:{width:window.innerWidth>=443?443:300,height:window.innerWidth>=443?250:168.75,playback_method:"auto_play_sound_off",playVideoVisibleThreshold:20,nonViewableBehavior:"pause",disableCollapse:!0,allowFullscreen:!1,disableTopBar:!0,playerSkin:{controlBarColor:"black",bigPlayButtonColor:"white",controlBarControlsColor:"white"}}},(s,n)=>{if(n==="loaded"){const r=p.getElementById(s),a=p.createElement("div");r&&(r.insertBefore(a,r.childNodes[0]),r.classList.add("video-ad"),a.classList.add("video-placeholder",`video-placeholder--${s}`))}})})}}:e.renderer=null},logPrebidWinner(e){debug.log(`Prebid winner: ${e.bidder} on slot: ${e.adUnitCode}`)},setPrebidLogging(){window.pbjs.enableAnalytics({provider:"generic",options:{events:{noBid(e){return{eventType:"noBid",data:e}},bidTimeout(e){return{eventType:"bidTimeout",data:e}},bidResponse(e){return{eventType:"bidResponse",data:e}}},batchSize:50,batchDelay:500,handler(e){Mntl.AdMetrics.pushMetrics("prebidMetric",{instigator:"prebid",metrics:{events:e}})}}})},setConsentManagement(){const e=["storage","basicAds","personalizedAds","measurement","transmitPreciseGeo"];if(L&&Mntl.CMP&&Mntl.CMP.supportsTCData()){const t={consentManagement:{gdpr:{cmpApi:"iab",timeout:1e4,defaultGdprScope:!0}}};if(!W){const i=[];for(const s of e){const n={purpose:s,enforcePurpose:!1,enforceVendor:!1};s==="personalizedAds"&&(n.eidsRequireP4Consent=!0),i.push(n)}t.consentManagement.gdpr.rules=i}this.setPrebidConfig(t)}},setCacheConfig(){this.setPrebidConfig({cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}})},setUserModuleConfig(){if(window.Mntl.GPT.getUseLmdFormat()){const e=G(),t=[{name:"connectId",params:{pixelId:"58813",...e&&{he:e}}},{name:"identityLink",params:{pid:"13435"},storage:{type:"html5",name:"idl_env",expires:30}},{name:"unifiedId",params:{partner:"uyuqun9"}},{name:"criteo"},{name:"sharedId",storage:{type:"cookie",name:"_sharedid",expires:365}},{name:"pairId",params:{liveramp:{}}}];if(window.liModuleEnabled=!1,this.userIdConfig.liveIntentPublisherId&&Mntl.GPT.getPageTargeting().abtest!=="lcid0"){window.liModuleEnabled=!0;const i={name:"liveIntentId",params:{publisherId:this.userIdConfig.liveIntentPublisherId,requestedAttributesOverrides:{uid2:!0,index:!0,bidswitch:!0,medianet:!0,magnite:!0,pubmatic:!0,openx:!0,thetradedesk:!0,sovrn:!0,vidazoo:!0,triplelift:!0,sonobi:!0,sharethrough:!0}},storage:{name:"__tamLIResolveResult",type:"html5",expires:1}};A&&(A.includes(":")?i.params.ipv6=A:i.params.ipv4=A),e&&(i.params.email=e,i.params.fpid={strategy:"cookie",name:"_sharedid"},i.params.requestedAttributesOverrides.fpid=!0),t.push(i)}this.setPrebidConfig({userSync:{userIds:t,auctionDelay:y}})}},resetUserIdDelay(){if(this.hasResetUserIdDelay)return;y=0;const e=window.pbjs.getConfig("userSync");this.setPrebidConfig({userSync:{...e,auctionDelay:y}}),this.hasResetUserIdDelay=!0},setActivityControls(){this.setPrebidConfig({enableTIDs:!0,allowActivities:{transmitTid:{default:!1,rules:[{condition(e){return X||e.componentName==="ttd"},allow:!0}]}}})},setPriceGranularityConfig(){Object.keys(this.priceGranularity).length&&(debug.log("Mntl.RTB.prebid: setting custom price granularity",this.priceGranularity),this.setPrebidConfig({priceGranularity:this.priceGranularity},!0))},setPageUrl(){this.setPrebidConfig({pageUrl:p.location.href})},setOrtb2FirstPartyData(){const e=this.getFirstPartyData();debug.log("Mntl.RTB.prebid: setting ortb2 First Party Data",e),this.setPrebidConfig({ortb2:{site:{ext:{data:e}}}}),this.hasBidder("ix")&&this.setIxFirstPartyData(),this.hasBidder("pubmatic")&&this.setPubmaticFirstPartyData(),this.hasBidder("appnexus")&&this.setAppNexusFirstPartyData()},setOrtb2Device(){debug.log("Mntl.RTB.prebid: setting ortb2 isMobile",Mntl.GPT.isMobile()?1:0),this.setPrebidConfig({ortb2:{site:{mobile:Mntl.GPT.isMobile()?1:0}}})},setIasRealTimeData(){this.setPrebidConfig({realTimeData:{auctionDelay:Q,dataProviders:[{name:"ias",waitForIt:!0,params:{pubId:926268,keyMappings:{adt:"rtd_ias_adt",alc:"rtd_ias_alc",dlm:"rtd_ias_dlm",hat:"rtd_ias_hat",off:"rtd_ias_off",vio:"rtd_ias_vio",drg:"rtd_ias_drg","ias-kw":"rtd_ias_ias-kw",fr:"rtd_ias_fr",vw:"rtd_ias_vw",grm:"rtd_ias_grm",pub:"rtd_ias_pub",vw05:"rtd_ias_vw05",vw10:"rtd_ias_vw10",vw15:"rtd_ias_vw15",vw30:"rtd_ias_vw30",vw_vv:"rtd_ias_vw_vv",grm_vv:"rtd_ias_grm_vv",pub_vv:"rtd_ias_pub_vv",id:"rtd_ias_id"}}}]}})},setCriteoSettings(){window.pbjs.bidderSettings=window.pbjs.bidderSettings||{},window.pbjs.bidderSettings.criteo={storageAllowed:!0},this.setPrebidConfig({criteo:{fastBidVersion:"none"}})},setPrebidDeviceAccess(){Mntl.CMP.hasPurposeOneConsent().then(e=>{e||(debug.log("Mntl.RTB.prebid: disabling device access due to lack of consent for Purpose 1"),window.pbjs.que.push(()=>{Mntl.RTB.Plugins.prebid.setPrebidConfig({deviceAccess:!1})}))})},setBidCaching(){this.setPrebidConfig({useBidCache:!0,bidCacheFilterFunction:e=>e.mediaType!=="video"})},setIxFirstPartyData(){const e=this.getFirstPartyData();if(Mntl.GPT.getUseLmdFormat()){const{mtax:t}=Mntl.GPT.getPageTargeting(),i=this.formatMsgForIx();t&&(e.mtax=t.slice(0,599).join("-")),i&&(e.audSegs=i)}debug.log("Mntl.RTB.prebid: setting index first party data",e),this.setPrebidConfig({ix:{firstPartyData:e}})},setPubmaticFirstPartyData(){const e=this.getFirstPartyData();window.pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{site:{ext:e}}}})},getPubmaticDealFirstPartyData(e){const t=e?.useDynamicVideoSizes?{...this.getFirstPartyData(),PlayerSize:$(e.sizes[0])}:this.getFirstPartyData();return Object.entries(t).map(s=>s.join("=")).join("|")},getAppNexusFirstPartyData(){const e=this.getFirstPartyData();return Object.entries(e).map(i=>i.join("=")).join()},setAppNexusFirstPartyData(){const e=this.getAppNexusFirstPartyData();debug.log("Mntl.RTB.prebid: setting appnexus party data",e),this.setPrebidConfig({ortb2:{site:{keywords:e}}})},formatMsgForIx(){if(!localStorage.msg)return!1;let e=JSON.parse(localStorage.msg);return e=e.map(t=>`(${t})`),e=e.slice(0,599).join(""),e},getFloorValueCents(e){const{getFloorValueCents:t}=window?.MMads.auctionFloors,{slot:i}=e,s=e.id==="preroll"&&i;return t(s?i:e.id)},setBidderUserConfig(){try{if(!localStorage.msg2)return!1;const e=[];if(this.hasBidder("trustx")&&e.push("trustx"),this.hasBidder("rubicon")&&e.push("rubicon"),e.length>0){const t=JSON.parse(localStorage.msg2),i={bidders:e,config:{ortb2:{user:{data:[{name:"dotdashmeredith.com",ext:{segtax:4},segment:t.map(s=>({id:s}))}]}}}};debug.log("Mntl.RTB.prebid: setting bidder user data config with msg2 values",i),window.pbjs.setBidderConfig(i)}}catch(e){return debug.log("Mntl.RTB: error loading msg2",e),!1}},getAdUnits(e){return e.map(this.getAdUnitForSlot.bind(this)).flat().filter(t=>t)},getVideoAdUnitSpecificFPD(e){if(!e.useDynamicVideoSizes)return{};const t=e.sizes[0],i=$(t);return{...this.getFirstPartyData(),PlayerSize:i,keywords:`${this.getAppNexusFirstPartyData()},PlayerSize='${i}'`}},getAdUnitForSlot(e){const t=this.getConfigForSlot(e);if(!t)return null;const{displayConfig:i,instreamConfig:s,outstreamConfig:n}=this.splitDisplayAndVideoBids(t),r=k(e),a=i.length>0&&{code:e.config.id,ortb2Imp:{ext:{gpid:r,data:{pbadslot:r,...fe(e)}}},mediaTypes:{banner:{sizes:oe(e)}},bids:i},u=s.length>0&&{code:e.config.id,mediaTypes:{video:{api:[1,2],context:"instream",linearity:1,mimes:["video/mp4","video/webm","application/javascript"],placement:1,playbackmethod:[1,2,3,4,5,6],playerSize:e.config.useDynamicVideoSizes?e.config.sizes:[640,360],protocols:[2,3,5,6],skip:1,...e.prebidVideoConfig}},ortb2Imp:{ext:{gpid:r,data:{pbadslot:r,...this.getVideoAdUnitSpecificFPD(e.config)}}},bids:s.map(o=>(o.params={...o.params,size:e.config.useDynamicVideoSizes?e.config.sizes:[640,360],video:{...o.params.video,mimes:e.prebidVideoConfig&&e.prebidVideoConfig.mimes?e.prebidVideoConfig.mimes:["video/mp4","video/webm","application/javascript"],minduration:e.prebidVideoConfig&&e.prebidVideoConfig.minduration?e.prebidVideoConfig.minduration:0,maxduration:e.prebidVideoConfig&&e.prebidVideoConfig.maxduration?e.prebidVideoConfig.maxduration:60,protocols:e.prebidVideoConfig&&e.prebidVideoConfig.protocols?e.prebidVideoConfig.protocols:[2,3,5,6]}},o))},l=n.length>0&&{code:e.config.id,mediaTypes:{video:{context:"outstream",playerSize:e.config.useDynamicVideoSizes?[e.config.sizes]:[[640,480]]}},ortb2Imp:{ext:{data:{...this.getVideoAdUnitSpecificFPD(e.config)}}},bids:n,renderer:{}},T=this.getFloorValueCents(e.config);return T!==!1&&[a,u,l].filter(o=>o).forEach(o=>{const{code:w}=o;o.floors={currency:"USD",schema:{fields:["adUnitCode"]},values:{[w]:T/100}}}),[a,u,l]},splitDisplayAndVideoBids(e){const t={display:[],instream:[],outstream:[]};if(e)for(const i of e){const s=i.params.type||"display",n=M.deepExtend({},i);delete n.params.type,t[s].push(n)}return{displayConfig:t.display,instreamConfig:t.instream,outstreamConfig:t.outstream}},getConfigForSlot(e){let t=null;if(this.config){let i=e.config.id;window.Mntl.GPT.getUseLmdFormat()&&(i=`${i.replace(/-\d+$/,"")}/tier1`,e.config.type==="video"&&(e.config.id=i="preroll")),t=this.config[i]||this.config.global||null}if(t){const i=this.getFirstPartyData();t=t.map(n=>(n.bidder==="appnexus"&&e.config.type==="video"&&e.prebidVideoConfig?.plcmt===2&&(n.params.video=n.params.video||{},n.params.video.context="accompanying_content_pre_roll"),n.bidder==="grid"?n.params.keywords=i:n.bidder==="pubmatic"&&(n.params.dctr=this.getPubmaticDealFirstPartyData(e.config)),n)),t.filter(n=>n.bidder==="criteopg").length>0&&(t=t.concat(this.getCriteoPGBidders(e)),t=t.filter(n=>n.bidder!=="criteopg"))}else debug.log("Mntl.RTB.prebid: no config for",e.config.id,"slot:",e);return t},setFloorConfig(){this.setPrebidConfig({floors:{}})},enableTestAdBids(){this.setPrebidConfig({debugging:{enabled:!0,intercept:[{when:()=>!0,then:{currency:"USD"}}]}})},getFirstPartyData(){const e=M.pickObject(ee,["tax0","tax1","tax2","tax3"]),t=window.docCookies.getItem("pc");return t&&(e.pc=t),e||{}},getCriteoPGBidders(e){const t={"160x600":"1591637","300x250":"1591635","300x600":"1591638","320x50":"1591639","728x90":"1591636","970x250":"1591640"};return e.config.sizes.reduce((s,n)=>{const r=`${n[0]}x${n[1]}`,a=t[r];return typeof a<"u"&&s.push({bidder:"criteo",params:{zoneId:a}}),s},[])},setConfig(e){this.config=Object.assign(this.config,e)},setPrebidConfig(e,t=null){Object.entries(e).forEach(([i,s])=>window.pbjs.getConfig(i)&&!t?window.pbjs.mergeConfig({[i]:s}):window.pbjs.setConfig({[i]:s}))},setUserIdConfig(e={}){this.userIdConfig=Object.assign(this.userIdConfig,e)},setPriceGranularity(e){e&&e.buckets&&(this.priceGranularity.buckets=e.buckets.map(t=>M.mapObject(t,null,i=>Number(i))))},hasBidder(e){const t=this.config||{};return Object.keys(t).some(i=>t[i].some(({bidder:s})=>s===e))},addPrebidValuesToSlotTargeting(e,t){e.forEach(i=>{t&&t[i.config.id]&&Object.keys(t[i.config.id]).length?(debug.log("Mntl.RTB: updating",i.config.id,"slot",i,"with prebid targeting",t),i.updateTargeting(t[i.config.id],!1)):debug.log("Mntl.RTB: no prebid targeting for",i.config.id,"slot",i)})},trackPrebidMetrics(e){e.forEach(t=>{const i=t.config.id,{bids:s}=window.pbjs.getBidResponsesForAdUnitCode(i),n=window.pbjs.getNoBidsForAdUnitCode?window.pbjs.getNoBidsForAdUnitCode(i).bids:[],r=s.map(l=>({name:l.bidder,bidSize:l.adserverTargeting.hb_size,bidAmount:l.adserverTargeting.hb_pb,timedMetric:!0,start:l.requestTimestamp,finish:l.responseTimestamp})),a=n.map(l=>({name:l.bidder,bidSize:null,bidAmount:null,timedMetric:!0,start:null,finish:null})),u={instigator:i,metrics:{partnerBids:[...r,...a]}};Mntl.AdMetrics.pushMetrics("slotMetric",u)})}},amazon:{waitForConsentToLoad:!0,scriptsLoaded:!1,preload(){if(S){let e={async:!0,fetchpriority:"high",src:"https://config.aps.amazon-adsystem.com/configs/"+this.getAmazonAccountId()};v.loadExternalJS(e),MMAds.AmazonScriptLoader.loadBootstrap(this.getAmazonAccountId()),MMAds.AmazonScriptLoader.loadBootstrapExtension()}},getAmazonAccountId(){return Mntl.GPT.getUseOxygen()?"3446":this.id},src(){return S?"//client.aps.amazon-adsystem.com/publisher.js":"//c.amazon-adsystem.com/aax2/apstag.js"},getAmazonBids(e,t){return new Promise(i=>{window.apstag.fetchBids({slots:e,timeout:t?E:K},s=>{i(s)})}).catch(i=>{console.log(i)})},setup(e,t){let i=[];const s=e.length>0&&e[0].config.type==="video";if(!this.scriptsLoaded||!window.apstag){t();return}if(this.initialize(),s)i=[this.getVideoApstagSlot(e[0])];else{this.clearTargeting(e);const n=e.filter(r=>r.config.type!=="native");if(i=this.getDisplayApstagSlots(n),i.length===0){t();return}}window.debug.log("Mntl.RTB.amazon: setup: fetching apstag bids",i),this.getAmazonBids(i,s).then(n=>{window.debug.log("Mntl.RTB.amazon: setup: apstag bid response received",n),s||this.addApstagValuesToSlotTargeting(e,n),t({...this.getVideoTargeting(n,s)})})},getVideoTargeting(e,t){return t&&e[0]&&e[0].targeting},addApstagValuesToSlotTargeting(e,t){e.forEach(i=>{t.forEach(s=>{let n;s.slotID===i.config.id&&(n=s.targeting||{amznbid:s.amznbid,amzniid:s.amzniid,amznsz:s.amznsz,amznp:s.amznp},window.debug.log(`Mntl.RTB.amazon: setup: setting targeting on slot ${i.config.id}`,n),i.updateTargeting(n,!1))})})},initialize:M.once(function(){const e={...this.amazonConfigs.mapTaxValues,si_pagegroup:Mntl.GPT.getPageTargeting().category},t={deals:!0,pubID:this.getAmazonAccountId(),adServer:"googletag",videoAdServer:"DFP",section:this.amazonConfigs.amazonSection||"",params:e,blockedBidders:this.amazonConfigs.blockedBidders||[],sis_sitesection:this.amazonConfigs.amazonSection?`${v.getDomain()}:${this.amazonConfigs.amazonSection}`:"",schain:{complete:1,ver:"1.0",nodes:[]},signals:{ortb2:{site:{...S?{page:window.location.href,publisher:{id:"e2904d9e-c3fe-436e-becc-fb2f804a296a"}}:{},ext:{data:e}}}}};window.apstag.init(t),S&&window.apstag.queue.push(()=>{window.apstag.nativeContent().registerHook("nativeContent.updateClickUrl",(i,s)=>(s.setAttribute("data-aps-click-url",i),s.href)),window.apstag.nativeContent().enable()}),Mntl.DEBUG&&window.apstag.debug("enable"),window.debug.log("Mntl.RTB.amazon: setup: apstag initialized"),window.MMAds?.PublisherAudiences?.init()}),clearTargeting(e){e.forEach(t=>{const i=window.apstag.targetingKeys(t.config.id);Array.isArray(i)&&t.updateTargeting(i.reduce((s,n)=>(s[n]="",s),{}),!1)})},getVideoSlotId(e){const t=Mntl.GPT.isMobile()||Mntl.GPT.isTablet(),{id:i}=e.config;return t?i.includes("primary")||i.includes("mntl-sc-block-inlinevideo")?"preroll":"video":i.includes("mm-ads-rail-jwplayer")?"video-rail":i.includes("mntl-sc-block-inlinevideo")?"preroll":"video"},getVideoApstagSlot(e){const t={mediaType:"video",slotID:this.getVideoSlotId(e),sizes:e.config.sizes,slotName:ne(),slotParams:{...e.config.useDynamicVideoSizes?{PlayerSize:$(e.config.sizes[0])}:{},fb_pid:this.amazonConfigs.mapFBValues[e.config.id]||this.amazonConfigs.mapFBValues.default||""}},{getFloorValueCents:i}=window?.MMads.auctionFloors,{slot:s}=e.config;let n=!1;return s&&(n=i(s),n!==!1&&(t.floor={value:n,currency:"USD"})),t},getDisplayApstagSlots(e){return e.map(function(t){const i={slotID:t.config.id,sizes:oe(t)};Mntl.GPT.getUseLmdFormat()&&(i.slotName=k(t)),i.slotParams={fb_pid:this.amazonConfigs.mapFBValues[t.config.id]||this.amazonConfigs.mapFBValues.default||""};const{getFloorValueCents:s}=window?.MMads.auctionFloors,n=s(t.config.id);return n!==!1&&(i.floor={value:n,currency:"USD"}),i},this).filter(t=>t.sizes.length>0)},amazonConfigs:{}},msg:{waitForConsentToLoad:!1,scriptsLoaded:!1,localStorageEmpty:!0,preload(){try{const e=window.localStorage.msg_date;!e||new Date().getTime()-e>3*24*60*60*1e3?(delete window.localStorage.msg,delete window.localStorage.msg2,delete window.localStorage.msg_date):this.localStorageEmpty=!1}catch(e){debug.log("Mntl.RTB: error loading msg",e)}return!1},src(){const e=Mntl.GPT.getPublisherProvidedId(),t=`https://d30qdagvt44524.cloudfront.net/production/segments?muid=${e}`;return!!e&&this.localStorageEmpty&&t},setup(e,t){t()}},rmni:{initialized:!1,waitForConsentToLoad:!0,scriptsLoaded:!1,getData(){return this.complete},renderAds(){this.complete?.data?.length>0&&this.complete.data.forEach(e=>{try{window.pbjs.renderAd(p.querySelector(`#${e.containerId} iframe`).contentDocument,e.winners[0].adId),window.pbjs.markWinningBidAsUsed(e.winners[0].adId)}catch(t){console.log("RMNI error rendering ad",t)}})},preload(){return!1},src(){return!1},setup(e,t){if(this.initialized){t();return}this.initialized=!0;function i(){googletag.pubads().removeEventListener("slotOnload",i);const{getDfpId:s,getSitePath:n,getPageType:r,getPageTargeting:a,getSponsIngredients:u,isMobile:l}=Mntl.GPT;function T(){const d=p.querySelector('meta[property="og:url"]');return d?d.getAttribute("content"):[location.protocol,"//",location.host,location.pathname].join("")}const o=T(),w=new URL(o).hostname.replace("www.","").replace(/\.[^.]+$/,"").split(".")[0],R=l()?"mobile":"desktop",ue=s(),ge=n(),x=r(),F=a().sponstag,Ve=u(),V=[];let q;({zones:{allrecipes:{desktop:{walmart:"2631974"},mobile:{walmart:"2659958"}},eatingwell:{desktop:{walmart:"3074158"},mobile:{walmart:"3074172"}},foodandwine:{desktop:{walmart:"3074180"},mobile:{walmart:"3074186"}}},init(){q=this.getRetailerZones(w,R),q&&this.processZones()},getRetailerZones(d,g){return this.zones[d][g]||null},processZones(){let d=0;for(const[g,f]of Object.entries(q))d=this.processZone({retailer:g,id:f},d);I.rmni.complete={zonesProcessed:d,data:V}},processZone(d,g){const f=d.retailer.toLowerCase(),P=`square_fixed_${f}_192x160`,m=this.getCreativeConfig(P,Ve,F,d.id);return this.addToPrebidQueue(f,m,m.code),g+=1,g},getRmniGpid(d){return`${ue}/${ge}/${x}/${d}`},getCreativeConfig(d,g,f,P){const{params:m}=Mntl.RTB.Plugins.prebid.config?.preroll?.find(N=>N.bidder==="rubicon")||{},C=this.getRmniGpid(d);return{code:C,ortb2Imp:{ext:{gpid:C,data:{pbadslot:C,isBIU:g,isMWS:f}}},mediaTypes:{banner:{sizes:[[192,160]]}},bids:[{bidder:"rubicon",params:{accountId:m?.accountId||"",siteId:m?.siteId||"",zoneId:P,zoneName:d}}]}},queueToRender(d,g,f){const P=window.pbjs.getHighestCpmBids(d),m={containerId:f,retailer:g,winners:P};try{if(P.ads[0]?.script){const C=P.ads[0].script,N=decodeURIComponent(C),Ee=/iframe\.contentWindow\.pol_params\s*=\s*(\{[\s\S]*?\});/,pe=N.match(Ee);if(pe){const Le=`${JSON.stringify(pe[1]).replace(/(?:\\[rn])+/g,"").replace(/\s/g,"").replace(/,(?=\s*[}\]])/g,"").replace(/([\w$]+)(?=:(?!(\/\/|[^'":]+:\/\/)))/g,'"$1"').replace(/'/g,'"')}`.slice(1,-1);m.sortingData=JSON.parse(Le),V.push(m)}}else V.push(m)}catch(C){console.log("Error while parsing RMNI script",C),V.push(m)}},addToPrebidQueue(d,g,f){window.pbjs.que.push(()=>{window.pbjs.addAdUnits([g]),window.pbjs.requestBids({bidsBackHandler:()=>{this.queueToRender(f,d,g.bids[0].params.zoneName)},timeout:2e3})})}}).init()}window.googletag.cmd.push(()=>{window.googletag.pubads().addEventListener("slotOnload",i)}),t()}},optable:{waitForConsentToLoad:!0,scriptsLoaded:!1,preload(){window.optable=window.optable||{cmd:[]},U?window.optable.site=U.replace(".","-"):window.optable.site="dotdash-meredith-sdk",Y===!0&&(window.optable.instance_config={mockedIP:"1.2.3.4"})},src(){return"//dotdash-meredith.solutions.cdn.optable.co/public-assets/ddm-sdk.js"},setup(e,t){if(this.scriptsLoaded){const i=G();i&&window.optable.cmd.push(()=>{window.optable.ddm_instance.identify(`e:${i}`).catch(s=>{debug.log("Mntl.RTB.Plugins.optable: Identify API error: ",s)})}),this.enrichPrebidWithOptableData(),window.addEventListener("optableResolved",s=>{s.detail.resolved&&this.enrichPrebidWithOptableData()}),t()}else t()},enrichPrebidWithOptableData(){window.optable.cmd.push(()=>{window.optable.ddm_instance.targeting()}),localStorage.OPTABLE_RESOLVED&&window.pbjs.que.push(()=>{const e=(()=>{const t=window.pbjs.getConfig("userSync.userIds")||[];let i=t.find(s=>s.name==="pubProvidedId");i?i.params.eids=i.params.eids.filter(s=>s.inserter!=="optable.co"):(i={name:"pubProvidedId",params:{eids:[]}},t.push(i));try{const n=JSON.parse(localStorage.OPTABLE_RESOLVED||"{}")?.ortb2?.user?.eids||[];Array.isArray(n)&&n.length>0&&i.params.eids.push(...n)}catch(s){debug.log("Mntl.RTB.Plugins.optable: Error processing Optable data:",s)}return t})();window.Mntl.RTB.Plugins.prebid.setPrebidConfig({userSync:{userIds:e}}),window.pbjs.refreshUserIds({submoduleNames:["pubProvidedId"]})})}}};function me(){if(!ie)try{ie=!0,debug.log("Mntl.RTB: recording HTTP request times",Date.now());const e=performance.getEntriesByType("resource");for(const t in te){const i=e.filter(s=>s.name.indexOf(te[t])!==-1)[0];typeof i<"u"&&(h.publish("performanceTracking",{instigator:"RTB",event:"tw",name:t,status:"start",timestamp:Math.round(i.startTime)}),h.publish("performanceTracking",{instigator:"RTB",event:"tw",name:t,status:"finish",timestamp:Math.round(i.responseEnd)}))}}catch(e){debug.log("Mntl.RTB: error accessing http time on wire",e)}}function re(e,t){return function(){if(e.decrementCount(),debug.log("Mntl.RTB: gpt rtb callback",c.size-e.count,c.size,Date.now()),t&&e.count>0||e.count===0){const i=e.gptSlots.map(s=>s.config.id);me(),debug.log("Mntl.RTB: executing ad call, forced: ",t,Date.now()),debug.log("Mntl.RTB: triggering RTBSlotsBidded event for",e.gptSlots),p.dispatchEvent(new CustomEvent("RTBSlotsBidded",{bubbles:!0,detail:{force:t,slots:i}})),e.callback(),e.reset(),z.go()}}}function ae(e){return e.reduce((t,i)=>(I[i.type]&&i.id!==null&&(t[i.type]=Object.assign({},i,I[i.type])),t),{})}function de(e,t){return new Promise(i=>{let s=e.size;const n=Date.now();let r;function a(){const w=Date.now()-n;debug.log("Mntl.RTB: loadScripts took",t,w),Mntl.AdMetrics.pushMetrics("pageMetric",{instigator:"RTB",metrics:{libraryLoad:[{name:`rtbLibraryLoadTimeoutActual${t}`,timedMetric:!0,finish:w}]}}),clearTimeout(r),i()}function u(o){_.set(o,"loaded"),--s===0&&(J=!0,a(),debug.log("Mntl.RTB: triggering RTBPluginsLoaded event"),p.dispatchEvent(new CustomEvent("RTBPluginsLoaded",{bubbles:!0})))}function l(o){if(_.has(o)){e[o].scriptsLoaded=!0;return}_.set(o,"loading"),e[o].preload();const w=e[o].src();let R={};if(w){let x=function(){h.publish("performanceTracking",{instigator:"RTB",event:"ll",name:e[o].type,status:"finish"}),Mntl.AdMetrics.pushMetrics("pageMetric",{instigator:"RTB",metrics:{libraryLoad:[{name:e[o].type,timedMetric:!0,finish:Date.now()}]}}),debug.log("Mntl.RTB.Plugins.",e[o].type," loaded",Date.now()),p.dispatchEvent(new CustomEvent(`RTBPluginLoad:${e[o].type}`,{bubbles:!0})),u(e[o].type)},F=function(){h.publish("performanceTracking",{instigator:"RTB",event:"ll",name:`${e[o].type}-error`,status:"finish"}),Mntl.AdMetrics.pushMetrics("pageMetric",{instigator:"RTB",metrics:{libraryLoad:[{name:`${e[o].type}-error`,timedMetric:!0,finish:Date.now()}]}}),debug.log("Mntl.RTB.Plugins.",e[o].type," failed to load",Date.now()),p.dispatchEvent(new CustomEvent(`RTBPluginLoad:${e[o].type}`,{bubbles:!0})),u(e[o].type)};var ue=x,ge=F;h.publish("performanceTracking",{instigator:"RTB",event:"ll",name:e[o].type,status:"start"}),Mntl.AdMetrics.pushMetrics("pageMetric",{instigator:"RTB",metrics:{libraryLoad:[{name:e[o].type,timedMetric:!0,start:Date.now()}]}}),debug.log("Mntl.RTB.Plugins.",e[o].type," load start",Date.now()),R={async:!0,src:w},e[o].scriptId&&(R.id=e[o].scriptId),v.loadExternalJS(R,x,F)}else debug.log("Mntl.RTB.Plugins.",e[o].type," loaded(no src)",Date.now()),u(e[o].type);e[o].scriptsLoaded=!0}function T(){function o(){H=!0,a()}Z?Mntl.CMP.onConsentChange(()=>{debug.log("Mntl.RTB.Plugins: library load timeout",D,Date.now()),r=setTimeout(o,D)}):(debug.log("Mntl.RTB.Plugins: library load timeout",D,Date.now()),r=setTimeout(o,D))}e.keys.forEach(o=>{se()&&e[o].waitForConsentToLoad?Mntl.CMP.isOptInConsent()?(Z=!0,Mntl.CMP.onConsentChange(()=>{(L&&Mntl.CMP.supportsTCData()||Mntl.CMP.hasTargetingConsent())&&l(o)})):Mntl.CMP.hasTargetingConsent()&&l(o):l(o)}),T()})}const le=M.promiseOnce(()=>de(c,"Display")),ce=M.promiseOnce(()=>de(b,"Video"));function he({config:e}){return e.sizes.filter(t=>Array.isArray(t)&&t.indexOf(1)===-1)}z={_queue:[],push(e){this._queue.push(e),this.go()},go(){let e;if((J||H)&&this._queue.length>0){e=this._queue.shift(),debug.log("Mntl.RTB:",e.caller," RTB wait for ",B+y,Date.now()),e.timeout=window.setTimeout(re(e,!0),B+y),debug.log("Mntl.RTB: requesting bids ",_," for ",e.gptSlots,Date.now());const t=!O&&e.gptSlots.filter(i=>he(i).length>0).length>0;O=O||t,c.keys.forEach(function(s){const{type:n}=c[s];debug.log("Mntl.RTB.Plugins.",n,".setup (",e.caller,")",c[s],Date.now());const r={instigator:null,metrics:{libraryBidTiming:[{name:s,timedMetric:!0,start:Date.now()}]}};e.gptSlots.forEach(({config:{id:a}})=>{r.instigator=a,Mntl.AdMetrics.pushMetrics("slotMetric",r)}),t&&h.publish("performanceTracking",{instigator:"RTB",event:"bt",name:n,status:"start"}),c[s].setup(e.gptSlots,()=>{const a={instigator:null,metrics:{libraryBidTiming:[{name:s,timedMetric:!0,finish:Date.now()}]}};e.gptSlots.forEach(({config:{id:u}})=>{a.instigator=u,Mntl.AdMetrics.pushMetrics("slotMetric",a)}),t&&h.publish("performanceTracking",{instigator:"RTB",event:"bt",name:n,status:"finish"}),re(e)()})})}}};function j(e,t,i){this.gptSlots=e,this.callback=t,this.count=c.size,this.timeout=null,this.caller=i}j.prototype.reset=function(){this.count=0,clearTimeout(this.timeout)},j.prototype.decrementCount=function(){this.count=this.count-1};function be(e){c=ae(e),c.keys=Object.keys(c),c.size=c.keys.length}function we(e){b=ae(e),b.keys=Object.keys(b),b.size=b.keys.length}function ye(e,t){const i=new j(e,t,"init");le().then(()=>{z.push(i)})}function Te(e){return ce().then(()=>{const t=[],i=b.keys.map(n=>new Promise(r=>{b[n].setup([e],r)}).then(r=>(r&&t.push(r),t))),s=new Promise(n=>{window.setTimeout(n,E)});return Promise.any([Promise.all(i),s]).then(()=>t)})}function Pe(e,t){const i=new j(e,t,"refresh");z.push(i)}function Ce(){return B}function Me(e){B=e}function ve(e){D=e}function Se(e){K=e}function Be(e){Q=e}function De(e){L=e}function Ae(e){A=e}function Re(e){W=e}function _e(e){S=e}function ze(e){y=e}function Ie(e){ee=e}function je(e){U=e}function xe(e){Y=e}function Fe(e){X=e}return v.onLoad(()=>{c.size&&le(),b.size&&ce()}),{setUseConsentManagement:De,setUseGDPREnforcement:Re,setPrebidUserIdAuctionDelay:ze,setUseAmazonNcaHookTest:_e,setTaxonomyStampValues:Ie,initDisplayAndOutstreamSlots:ye,initDisplayAndOutstreamBidders:be,initVideoSlot:Te,initVideoBidders:we,refresh:Pe,Plugins:I,subscribePerformance:h.subscribe.bind(h),setIpAddress:Ae,getPrebidBidResponseTimeout:Ce,setPrebidBidResponseTimeout:Me,setRtbLibraryLoadTimeout:ve,setAmazonTamBidResponseTimeout:Se,setIasRtdAuctionDelay:Be,generateGpid:k,setDomain:je,setUseOptableMockIp:xe,setEnableTidForAllBidders:Fe}}(window.document,window.Mntl.fnUtilities||{},window.Mntl.utilities||{});

window.Mntl=window.Mntl||{},Mntl.RTBTracking=function(){"use strict";const{navigationStart:v}=performance.timing,n={event:"analyticsEvent",eventCategory:"RTB Timing",eventAction:"Load",nonInteraction:!0,eventLabel:{}},d={amazon:"a",appnexus:"an",criteo:"c",prebid:"p",ias:"ia",index:"i",pubmatic:"pb",rubicon:"r"};let i;function u(e){const t=d[e.name];n.eventLabel[e.event]=n.eventLabel[e.event]||{},n.eventLabel[e.event][t]=n.eventLabel[e.event][t]||{},n.eventLabel[e.event][t][e.status]=e.timestamp||Date.now()-v}function r(){document.removeEventListener("RTBSlotsBidded",r),i.unSubscribe();const e={};for(const t in n.eventLabel){e[t]=[];for(const a in n.eventLabel[t]){const o=n.eventLabel[t][a].start,c=n.eventLabel[t][a].finish,s=c?c-o:null,l={p:a,s:o};s!==null&&(l.d=s),e[t].push(l)}}n.eventLabel=JSON.stringify(e),dataLayer.push(n)}function m(){i=Mntl.RTB.subscribePerformance("performanceTracking","RTB",u,"on"),document.addEventListener("RTBSlotsBidded",r)}return{init:m}}();

window.MMAds=window.MMAds||{},window.Mntl=window.Mntl||{},MMAds.PublisherAudiences=function(){function o(e){const n=[{type:"email",record:e}];let i=!1;return Mntl.CMP&&(i=!Mntl.CMP.hasTargetingConsent()),{hashedRecords:n,optOut:i}}function d(e,n){if(!window.apstag){window.debug.log("MMAds.PublisherAudiences: APS not initialized");return}const i=o(e);window.debug.log(`MMAds.PublisherAudiences: apstag.${n} tokenConfig value`,i),window.apstag[n](i)}function t(e=!1){const n=window.docCookies.getItem("lr_input");n?d(n,e?"upa":"rpa"):window.debug.log("MMAds.PublisherAudiences: APS token creation not initialized")}function s(){t(),Mntl.CMP&&Mntl.CMP.onConsentChange(()=>{t(!0)})}return{init:s}}();

const preexistingConfigObject=MMads.adConfigAPI||{};MMads.adConfigAPI=function(){function f(){return window.MMads.adConfigAPI}function e(){return window.Mntl.GPT.getAdLazyOffset()}function g(n){let t=n;const o=this.getConfigs().configs,s=o&&o.slots?o.slots:{};if(!s)return t;const i=n?.split(/-\d+/)[0];return!s[n]&&s[i]&&(t=i),t}return{...preexistingConfigObject,getConfigs:f,searchForConfigKeyById:g,getAdLazyOffset:e}}();

window.Mntl=window.Mntl||{},Mntl.AdMetrics=function(){class h{constructor(t,i,e={},s={},o=!0,r=!1){this._type=t,this._navigationStart=i,this._metrics={},this.logMetrics(e),this._requiredMetrics=s,this._sendMetricsToKafka=o,this._postEndpoint=r?`http://localhost:8000/${this._type}Data`:`/api/orion/${this._type}Data`,this.metricsPushed=!1}_getSpecificType(t){return t===null?null:Array.isArray(t)?"array":typeof t}_mergeObjectsInArray(t,i){const e=[];return t.forEach(s=>{const o=e.findIndex(r=>r[i]===s[i]);o>-1?e[o]={...e[o],...s}:e.push(s)}),e}_containsTimedMetrics(t,i){const e={array:["libraryBidTiming","libraryLoad","partnerBids"],object:["gam"]};return e[i]&&e[i].includes(t)}_formatTimedMetrics(t,i){switch(i){case"array":{const e=this._mergeObjectsInArray(this._metrics[t],"name"),s=[];for(const o in e){const r=e[o],c={};try{if(r&&r.timedMetric&&(c.name=r.name,"start"in r)){const n=r.start?r.start-this._navigationStart:null,l=r.finish?r.finish-r.start:-1;c.startTime=n,c.runTime=l>=0?l:null}t==="partnerBids"&&(c.bidAmount=r.bidAmount,c.bidSize=r.bidSize)}catch(n){window.debug.error(`Mntl.adMetrics _formatTimedMetrics.  Could not format timed metric for [category: ${t}] | [metric: ${r.name}]`,{...this},n),c.startTime=null,c.runTime=null}s.push(c)}this._metrics[t]=s;break}case"object":{const e=this._metrics[t];for(const s in e)try{const o=e[s];if(o&&o.timedMetric){if(!o.timestamp)throw new Error("Timestamp not provided for timedMetric");this._metrics[t][s]=o.timestamp-this._navigationStart}}catch(o){window.debug.error(`Mntl.adMetrics _formatTimedMetrics.  Could not format timed metric for [category: ${t}] | [metric: ${s}]`,{...this},o),this._metrics[t][s]=null}}}}requiredMetricsComplete(){let t=!0;for(const i in this._requiredMetrics)this._metrics[i]?this._requiredMetrics[i].forEach(e=>{e in this._metrics[i]||(t=!1)}):t=!1;return t}logMetrics(t){for(const i in t){const e=t[i];if(this._getSpecificType(e)==="object")for(const s in e){const o=e[s];this._getSpecificType(o)==="object"?(this._metrics[i]=this._metrics[i]||{},this._metrics[i][s]={...this._metrics[i][s],...o}):(this._metrics[i]||(this._metrics[i]={}),this._metrics[i][s]=o)}else Array.isArray(e)&&Array.isArray(this._metrics[i])?this._metrics[i]=[...this._metrics[i],...e]:this._metrics[i]=e}window.debug.log(`Mntl.adMetrics, Type: ${this._type} ${this._type==="slot"?`[${this._metrics.slotId}]`:""} logMetrics`,{...t})}setPosition(){const t=this._metrics.slotId,e=document.querySelector(`#${t} iframe`).getBoundingClientRect(),s=document.body,o=Math.floor(e.x),r=Math.floor(e.y);this.logMetrics({position:{page:[o+Math.floor(window.scrollX),r+Math.floor(window.scrollY)],viewport:[o,r]},size:{ad:[Math.floor(e.width),Math.floor(e.height)],page:[Math.floor(s.offsetWidth),Math.floor(s.offsetHeight)],viewport:[window.innerWidth,window.innerHeight]}})}async pushMetrics(){for(const t in this._metrics){const i=this._getSpecificType(this._metrics[t]);this._containsTimedMetrics(t,i)&&this._formatTimedMetrics(t,i)}try{const t=JSON.stringify({...this._metrics,send:this._sendMetricsToKafka}),i=await fetch(this._postEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:t});if(i.status===200){const e=await i.json();window.debug.log(`Mntl.adMetrics, Type: ${this._type} ${this._type==="slot"?`[${this._metrics.slotId}]`:""} pushMetrics SUCCESS`,e)}else throw Error(`Received a non-200 response status: [${i.status}]`)}catch(t){window.debug.error(`Mntl.adMetrics, Type: ${this._type} ${this._type==="slot"?`[${this._metrics.slotId}]`:""} pushMetrics ERROR: `,t.message)}this.metricsPushed=!0}removeCategories(t){t.forEach(i=>{delete this._metrics[i]}),window.debug.log(`Mntl.adMetrics, Type: ${this._type} ${this._type==="slot"?`[${this._metrics.slotId}]`:""} removeCategories`,t,{...this._metrics})}}class M{constructor(){this._subscriptions={},this._excludeSlotIds=["native"],this._firstSlotId="",this._navigationStart=parseInt(Date.now()-window.performance.now())}init(t,i,e,s,o){if(this._trackPageMetricEvents=t.trackPageMetrics,this._trackSlotMetricEvents=t.trackSlotMetrics,this._sendMetricsToKafka=t.sendMetricsToKafka,this._trackPrebidMetricEvents=t.trackPrebidMetrics,this._useLocalOrion=t.useLocalOrion,this._docId=i,this._requestId=e,this._trackPageMetricEvents){if(this._events=new Mntl.PubSub(["pageMetric","slotCreated","slotMetric","prebidMetric"]),this._requiredSlotMetrics={gam:["slotOnload","slotRenderEnded"]},this._pageMetrics=new h("page",this._navigationStart,{docId:i,requestId:e,initialSlotIds:s,adServiceRunning:o-this._navigationStart},{},this._sendMetricsToKafka,this._useLocalOrion),this._subscriptions.page=this._events.subscribe("pageMetric",!1,c=>this._pageMetrics.logMetrics(c.metrics),"on"),this._trackPrebidMetricEvents){const c={docId:this._docId,requestId:this._requestId};this._prebidMetrics=new h("prebid",this._navigationStart,c,{},this._sendMetricsToKafka,this._useLocalOrion),this._events.subscribe("prebidMetric",!1,n=>this._logPrebidMetrics(n),"on")}const r=this._trackSlotMetricEvents?"on":"once";this._slotMetrics={},this._events.subscribe("slotCreated",!1,c=>this._createSlotMetric(c),r)}}_createSlotMetric(t){window.debug.log("Mntl.adMetrics, adMetricsManager._createSlotMetric",t.instigator,t),this._firstSlotId||(this._firstSlotId=t.instigator);const i={slotId:t.instigator,...t.metrics,docId:this._docId,requestId:this._requestId,isFirst:this._firstSlotId===t.instigator};this._slotMetrics[t.instigator]=new h("slot",this._navigationStart,i,this._requiredSlotMetrics,this._sendMetricsToKafka,this._useLocalOrion),this._subscriptions[t.instigator]=this._events.subscribe("slotMetric",t.instigator,e=>this._logSlotMetrics(e),"on")}_pageMetricsComplete(){window.debug.log("Mntl.adMetrics, adMetricsManager._pageMetricsComplete"),this._pageMetrics.pushMetrics(),this._subscriptions.page.unSubscribe()}_logSlotMetrics(t){window.debug.log("Mntl.adMetrics, adMetricsManager._logSlotMetrics",t.instigator,{...t.metrics}),this._slotMetrics[t.instigator].logMetrics(t.metrics),this._slotMetrics[t.instigator].requiredMetricsComplete()&&(this._slotMetrics[t.instigator].setPosition(),this._slotMetrics[t.instigator].pushMetrics(),t.instigator===this._firstSlotId&&!this._pageMetrics.metricsPushed&&this._pageMetricsComplete(),this._slotMetrics[t.instigator].removeCategories(["gam","tier","libraryBidTiming","partnerBidTiming","partnerBids"]),this._slotMetrics[t.instigator].logMetrics({isFirst:!1}))}_logPrebidMetrics(t){window.debug.log("Mntl.adMetrics, adMetricsManager._logPrebidMetrics",{...t.metrics}),this._prebidMetrics.logMetrics(t.metrics),this._prebidMetrics.pushMetrics(),this._prebidMetrics.removeCategories(["events"])}pushMetrics(t,i){try{if(!i.instigator)throw new Error("Missing instigator in data param");if(!i.metrics)throw new Error("Missing metrics in data param");if(this._trackPageMetricEvents)switch(t){case"pageMetric":case"prebidMetric":this._events.publish(t,i);break;case"slotCreated":case"slotMetric":{if(!this._excludeSlotIds.includes(i.instigator)){const e=this._firstSlotId===""||i.instigator===this._firstSlotId;(this._trackSlotMetricEvents||e)&&this._events.publish(t,i)}break}default:throw new Error(`Invalid Metric type when calling pushMetrics: ${t}`)}}catch(e){window.debug.error("Mntl.adMetricsManager, adMetricsManager.pushMetrics",t,{...i},e)}}}const d=new M;function _(){const a=Mntl.utilities.getQueryParams().adMetricTracking;let t=null;if(a){const i=!!Number(a.charAt(0)),e=i&&!!Number(a.charAt(1)),s=i&&!!Number(a.charAt(2)),o=!!Number(a.charAt(3)),r=!!Number(a.charAt(4));t={trackPageMetrics:i,trackSlotMetrics:e,sendMetricsToKafka:s,useLocalOrion:o,trackPrebidMetrics:r}}return t}function g(a,t,i,e,s=0){if(!d.docId){const r=Math.floor(Math.random()*100)<=.1,c=r&&Math.random()<+s;let n={trackPageMetrics:r,trackSlotMetrics:r,trackPrebidMetrics:c,sendMetricsToKafka:!0,useLocalOrion:!1};n.trackSlotMetrics=n.trackPageMetrics;const l=_();n={...n,...l},d.init(n,a,t,i,e)}}function m(a,t){d.pushMetrics(a,t)}return{init:g,pushMetrics:m,AdMetricsManager:M,Metrics:h,_adMetricsManager:d}}();

window.MMads=window.MMads||{},MMads.auctionFloors=function(){let t={other:{...{floor:"50",id:"FALLBACK"}}};const a=["amazontable","bankingtable","brokertable","button","homepagespotlight","logo","mortgagetable","native","pageviewtracker","partnerlinks","textnote","therapytable"];function l(o){const n=o.split("-");let e=t.other;if(!(a.filter(r=>o.indexOf(r)!==-1).length===0))return{id:"NOFLOOR",floor:""};for(let r=n.length;r>0;r--)if(o=n.slice(0,r).join("-"),typeof t[o]<"u"){e=t[o];break}return e}function i(o){const n=l(o),e=Number(n.floor);return n.floor!==""&&!isNaN(e)&&e}function f(o){t={...t,...o}}return{get floorConfig(){return t},setFloorConfig:f,getFloorInfoByKey:l,getFloorValueCents:i}}();

window.Mntl=window.Mntl||{},window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],Mntl.GPT=function(){const L=Mntl.utilities.getQueryParams().kw_only;let D=!1;const U=Mntl.utilities.getQueryParams().adTestSite;let B=0;const y={},p={},A={},c={},v=["displayOnScroll"],F={};let k={},G=!1,j=!1,b=[],r={refreshConfig:{},isMobile:!1,isTablet:!1,isDesktop:!1,pageTargeting:{ugc:"0",dc_ref:encodeURIComponent(window.location.href),hgt:String(window.screen.height),wdth:String(window.screen.width),path:window.location.pathname.split("/").filter(e=>e)},baseSlotTargeting:{pc:docCookies.getItem("pc")},initialSlots:[],auctionFloors:{},utils:{},dfpId:"",displayOnScroll:!1,displayOnConsent:!1,adsToCollapse:[],sponsIngredients:[],revenueGroupAllowList:"",dataProviders:{}};const d={"mob-square-fixed":0,"mob-square-fixed-intro":0,"mob-square-fixed-step":0,"square-fixed":0,"leaderboard-fixed":0,"mob-square-fixed-rvw":0,"square-fixed-comments":0,"mob-square-fixed-comments":0,"square-fixed-replies":0,"mob-square-fixed-replies":0},V={matchExact:!0,base:[[300,600],[160,600]]},C={"mob-square-fixed-1":V,"mob-square-fixed-step-1":V,"mob-square-fixed-2":{matchExact:!0,base:[[340,430]]},"mob-square-fixed-step-2":{matchExact:!0,base:[[340,430]]}},x={};let P;function O(e){if(!e||e.classList.contains("gpt-ignore-incrementor"))return null;const t=e.closest("[data-ad-name-override]");return t?t.getAttribute("data-ad-name-override"):null}function h(e){if(e===null)return"";let t="",i=!1;return Array.isArray(e)?t=e.map(n=>h(n)):typeof e=="string"?(t=e.replace(/&amp;|\+|&/g,"and"),t=t.replace(/[?'"’=!#*~;^()<>[\]\s]/gi,""),i=!0):(typeof e=="number"||typeof e=="boolean")&&(t=String(e)),i&&e!==t&&window.debug.log(`Targeting value "${e}" was incorrectly formatted, converted to "${t}"`),t}function de(){const e=document.documentElement.getAttribute("data-ab");return e?e.split(","):[]}function W(){const e=Mntl.utilities.getQueryParams(),t=e.kw||e.adTestKeyValues;if(!t)return{};const i=t.split("-"),n={};return i.forEach(o=>{const[s,a]=o.split(",");a?n[s]=a:n.kw=s}),n}function ce(e){return e.sort((t,i)=>!t.targeting.priority&&!i.targeting.priority?0:t.targeting.priority&&!i.targeting.priority?-1:i.targeting.priority&&!t.targeting.priority||t.targeting.priority>i.targeting.priority?1:i.targeting.priority>t.targeting.priority?-1:0)}function w(e){const{gptSlot:t}=c[e.config.id];return t}function z(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++){const o=w(e[i]);o&&t.push(o)}return t}function ue(e){const t=z(e);t.length&&googletag.cmd.push(()=>{window.debug.log("Clearing slots",t),googletag.pubads().clear(t)})}function fe(){return Object.values(c)}function N(e){if(!e)return;const{id:t}=e.config,i=t.replace(/-[0-9]+$/g,"");i in d&&(d[i]=d[i]-1)}function pe(){for(const e in d)d[e]=0}function K(e,t=!1){if(!e)return;const i=[];for(const n of e){const o=n.el.classList.contains("gpt-ignore-destroy"),{id:s}=n.config;if(!o&&c[s]){window.debug.log(`Deleting slot ${s}`),i.push(w(n)),t&&N(n);const a=Mntl.RefreshableAds?.getRefreshableAdManager();a?.getRefreshableAd(s)&&a.removeRefreshableAd(s),delete c[s],B--}}googletag.cmd.push(()=>{googletag.destroySlots(i)})}function Q(e){return c[e]}function he(e){const t=c[e];K([t])}function me(e,t){return e.reduce((i,n)=>(n.config.waitForThirdParty&&!t?i[0].push(w(n)):i[1].push(w(n)),i),[[],[]])}function R(e){return Array.isArray(e)&&e.length?e.map(t=>typeof t<"u"&&t!==null&&t!=="").length:typeof e<"u"&&e!==null&&e!==""}function _(e,t,i){Mntl.fnUtilities.iterate(e,(n,o)=>{R(n[o])?(r.baseSlotTargeting[o]=n[o],window.debug.log(`Setting slot targeting ${o} to ${n[o].toString()}`)):r.baseSlotTargeting[o]&&(delete r.baseSlotTargeting[o],window.debug.log(`Clearing slot targeting key ${o}`))}),t&&Object.keys(c).forEach(n=>{const o=c[n];o&&(i||!o.displayState)&&o.updateTargeting(e)})}function be(e){D||(D=!0,_({vid:Mntl.JWPlayer?"1":"0"},!0,!0)),L&&(e.forEach(t=>{t.clearTargeting()}),googletag.pubads().clearTargeting(),googletag.pubads().setTargeting("kw_only",L)),Mntl.Targeting.removeBlocklistedSlotTargeting(e)}function H(e,t){be(e),googletag.pubads().refresh(e,t)}function S(e){const t=z(e);if(t.length)if(r.pageTargeting.kw==="fakeAds"&&window.location.search.indexOf("state=PREVIEW")!==-1)t.forEach(i=>{const n=i.getSlotId().getDomId(),o=document.getElementById(n),s=i.getSizes().reduce((g,l)=>typeof l=="object"&&l.getHeight()*l.getWidth()>g.height*g.width?{height:l.getHeight(),width:l.getWidth()}:g,{height:50,width:50}),a=document.createElement("div");o!==null&&(a.style.backgroundColor="#e8e8e8",a.style.width=`${s.width}px`,a.style.height=`${s.height}px`,o.parentNode.setAttribute("data-ad-height",s.height),o.parentNode.setAttribute("data-ad-width",s.width),o.appendChild(a))});else{const[i,n]=me(e,j);n.length>0&&googletag.cmd.push(async()=>{await P,window.debug.log("Rendering slots",n),H(n,{changeCorrelator:!1})}),i.length>0&&(b=b.concat(i))}}function E(e){const t=[],i=[];let n,o,s;for(window.debug.log("Slots to display:",e),o=0,s=e.length;o<s;o++)(function(a){t.push(setInterval(async()=>{const g=e[a],l=g.config.id;document.getElementById(l)&&(document.getElementById(l).slotObj={config:g.config,updateTargeting:g.updateTargeting},clearInterval(t[a]),await P,window.debug.log(`Found slot ${l}. Calling googletag.display()`),googletag.display(l),g.displayState="displayed",r.singleRequest?(i.push(g),i.length===e.length&&(clearTimeout(n),window.debug.log("Single request mode: all slots found, now calling refresh"),S(e))):S([g]))},25))})(o);n=setTimeout(()=>{let a,g;for(a=0,g=t.length;a<g;a++)clearInterval(t[a]);r.singleRequest&&i.length!==e.length&&(window.debug.log("Single request mode: all slots not found, calling refresh on found slots"),S(i))},1e4)}function J(e){const t=[],i=[];e.length&&(Mntl.RTB?(e.forEach(n=>{n.config.rtb?t.push(n):i.push(n)}),window.debug.log("Passing slot ids to Mntl RTB refresh",t),Mntl.RTB.refresh(t,()=>{window.debug.log("Running Mntl RTB refresh callback and refreshing slots",t),S(t)}),window.debug.log("Bypassing RTB and refreshing slots",i),E(i)):(window.debug.log("Refreshing slots",e),S(e)))}function Y(e){const t=[],i=[];let n,o;for(n=0,o=e.length;n<o;n++){const s=e[n];s.startCooldownTimer(),s.displayState!=="displayed"&&s.displayState!=="displaying"?(s.displayState="displaying",t.push(s)):s.displayState==="displayed"&&i.push(s)}i.length&&J(i),t.length&&googletag.cmd.push(()=>{e=e.filter(g=>{g.el||g.setEl();const l=["amazontable","brokertable","bankingtable","mortgagetable"];let f=!1;for(let m=0;m<l.length;m++)if(g?.config?.id?.indexOf(l[m])!==-1){f=!0;break}return g.el&&(g.el.offsetParent!==null||f)});const s=[],a=[];Mntl.RTB&&window.location.search.indexOf("google_nofetch")===-1?(e.forEach(g=>{g.config.rtb?s.push(g):a.push(g)}),s.length?(window.debug.log("Passing slots to Mntl RTB",s),Mntl.RTB.initDisplayAndOutstreamSlots(s,()=>{window.debug.log("Running Mtnl RTB init callback"),E([...s,...a])})):(window.debug.log("Bypassing RTB and displaying slots",a),E(a))):E(t)})}function X(e){r.waitForNextFramePaint?(window.debug.log("Waiting for next frame paint to display slots",e),Mntl.utilities.callAsync(()=>{Y(e)})):Y(e)}function I(e){return typeof e=="string"&&v.indexOf(e)!==-1&&r[e]}function ye(e){return!I(e)||F[e]}function Z(e,t){F[e]=!0,v.every(ye)&&(G=!0,X(t))}function ee(e){let t;if(e===null||typeof e>"u"){e=[];for(t in c)e.push(c[t])}e.forEach(i=>{i.requested&&(window.debug.log(`Refreshing ad slot: ${i.id}`),i.resetTargeting())}),e.length||window.debug.error("No slots to display"),!G&&v.some(I)?(I("displayOnScroll")&&window.addEventListener("scroll",Z.bind(null,"displayOnScroll",e),{once:!0}),I("displayOnConsent")&&Mntl.CMP.onConsentChange(Z.bind(null,"displayOnConsent",e),!0)):X(e)}function we(e){const i={dd:["path","pv","mtax"],lmd:["dc_ref"]}[r.useLmdFormat?"lmd":"dd"];Mntl.fnUtilities.iterate(e,(n,o)=>{i.indexOf(o)>-1&&delete n[o]})}function te(e,t){e[t]={fn:[],rendered:!1}}function Se(){const e=r.baseSlotTargeting,t=window.location.pathname==="/"?"homepage":"",n=(e.tax1||t).split("_"),o=n[n.length-1].replace(/ /g,"");return h(o)}function Te(e){const t={taxonomy:"category",bio:"category",list:"slideshow",howto:"project",jwplayer:"video"};return e=e.replace(" ",""),t[e]||e||"none"}function ie(){return Mntl.fnUtilities.randomString(5)}function ne(e=r.useOxygen,t=r){let i;if(e){const n=Mntl.utilities.getDomain();i=`ddm.${t.isMobile?n.replace(".com",".mob"):n}`}else i=`${t.lmdSiteCode}.mdp.${t.isMobile?"mob":"com"}`;return i}function Me(){return r.baseSlotTargeting.type}function Ae(e,t){return t==="homepage"?"taxonomy":["taxonomy","taxonomysc","structuredcontent","listsc","recipesc"].indexOf(e)!==-1?e:"other"}function ve(e){const{useOxygen:t,templateName:i,baseSlotTargeting:n,pageTargeting:o}=e;return t?Ae(i,o.category):Te(n.type)}function oe(e,t,i,n){let o;if(n.useOxygen||n.useLmdFormat){const{dfpId:s}=n,a="tier1",{category:g}=i,{type:l}=t,f=ne(n.useOxygen,n);o=e.type==="native"?`${s}/${f}/ntv1`:`${s}/${f}/${a}/${l}/${g}`}else o=n.utils.buildGptUrl(e,t,i,n);if(U){const s=o.split("/");s[1]=U,o=s.join("/")}return o}function u(){return this.config={},this.targeting={},this.baseTargeting={},this.gptSlot=null,this.el=null,this.displayState=null,this}u.prototype.setFloorTargeting=function(){const e=window.MMads.auctionFloors.getFloorInfoByKey(this.config.id);this.targeting=Mntl.fnUtilities.deepExtend(this.targeting,{floor_id:e.id,floor:e.floor})};function Pe(e){return Object.keys(C).filter(n=>{const{matchExact:o}=C[n];return o&&n===e||!o&&e.indexOf(n)>-1})}u.prototype.updateSizes=function(){Pe(this.config.id).forEach(e=>{this.config.sizes.push(...C[e].base)})},u.prototype.byElement=function(e,t,i){const n=O(e);n&&e.setAttribute("id",n),d.hasOwnProperty(e.id)&&(d[e.id]=d[e.id]+1,t=`${e.id}-${d[e.id]}`);const o={pos:e.getAttribute("data-pos"),priority:Number(e.getAttribute("data-priority"))};return this.config.id=t||e.getAttribute("id"),this.config.type=e.getAttribute("data-type"),this.config.sizes=Mntl.fnUtilities.safeJsonParse(e.getAttribute("data-sizes").replace(/'/g,'"')),this.config.rtb=e.getAttribute("data-rtb")==="true",this.config.waitForThirdParty=e.getAttribute("data-wait-for-third-party")==="true",this.targeting=Mntl.fnUtilities.safeJsonParse(i)||{},this.targeting=Mntl.fnUtilities.deepExtend(this.targeting,Mntl.fnUtilities.safeJsonParse(e.getAttribute("data-targeting"))),this.targeting=Mntl.fnUtilities.deepExtend(this.targeting,o),this.setFloorTargeting(),this.setEl(e),this.updateSizes(),this.defineGptSlot(),this.pushMetrics(),this},u.prototype.byConfig=function(e,t,i,n){let o=n||null;this.config=e,this.targeting=t,this.setFloorTargeting(),this.gptSlot=i||null;const s=O(n);return s&&n.setAttribute("id",s),d.hasOwnProperty(this.config.id)&&(o=document.getElementById(this.config.id),d[this.config.id]=d[this.config.id]+1,this.config.id=`${this.config.id}-${d[this.config.id]}`),o&&this.setEl(o),this.updateSizes(),this.defineGptSlot(),this.pushMetrics(),this},u.prototype.pushMetrics=function(){Mntl.AdMetrics.pushMetrics("slotCreated",{instigator:this.config.id,metrics:{floors:{floor:this.targeting.floor,floorId:this.targeting.floor_id}}})},u.prototype.setEl=function(e=document.getElementById(this.config.id)){e!==null&&(this.el=e,e.setAttribute("id",this.config.id),e.slotObj={config:this.config,updateTargeting:this.updateTargeting})},u.prototype.updateTargeting=function(e,t=!0){if(!this.gptSlot){window.debug.error("No GPT slot defined");return}Mntl.fnUtilities.iterate(e,(i,n)=>{const o=i[n];R(o)?(this.targeting[n]=o,this.gptSlot.setTargeting(n,h(o)),t&&(this.baseTargeting[n]=o)):(delete this.targeting[n],t&&delete this.baseTargeting[n],this.gptSlot.getTargeting(n)instanceof Array&&this.gptSlot.getTargeting(n).length>0&&this.gptSlot.clearTargeting(n))})},u.prototype.resetTargeting=function(){this.targeting={},this.gptSlot&&this.gptSlot.clearTargeting(),this.updateTargeting({...this.baseTargeting,srid:ie()})},u.prototype.defineGptSlot=function(){return this.config.id?c[this.config.id]?(window.debug.error(`Error instantiating slot ${this.config.id}: slot already exists`),c[this.config.id]):(c[this.config.id]=this,googletag.cmd.push(()=>this.googletagDefineGptSlot()),this):(window.debug.error("Error instantiating slot: no id provided"),null)},u.prototype.googletagDefineGptSlot=function(){this.targeting=Mntl.fnUtilities.deepExtend(this.targeting,r.baseSlotTargeting),this.targeting.tile=`${B++}`,this.targeting.srid=ie(),y[this.config.type]=y[this.config.type]||1,this.config.tier=`${y[this.config.type]++}`,y[this.config.type]>4&&(y[this.config.type]=1),typeof this.config.id=="string"&&this.config.id.indexOf("dynamic-inline")!==-1?this.targeting.slot="dynamic-inline":this.targeting.slot=this.config.id;const e=oe(this.config,this.targeting,r.pageTargeting,r);window.debug.log(`Defining gpt slot with url: ${e} ...`),this.gptSlot=googletag.defineSlot(e,this.config.sizes,this.config.id),window.debug.log("Gpt slot defined",this.gptSlot),r.pageTargeting.companion&&(googletag.pubads().collapseEmptyDivs(!0),window.debug.log("Adding companionAds service"),this.gptSlot.addService(googletag.companionAds())),Mntl.fnUtilities.iterate(this.targeting,(t,i)=>{const n=t[i];R(n)&&(window.debug.log(`Setting slot targeting key ${i} as ${n}`),this.gptSlot.setTargeting(i,h(n)),this.baseTargeting[i]=n)}),window.debug.log("Adding pubads service"),this.gptSlot.addService(googletag.pubads()),p[this.config.id]||te(p,this.config.id)},u.prototype.overrideSizes=function(e){const t=googletag.sizeMapping().addSize([0,0],[e]).build();this.gptSlot.defineSizeMapping(t),this.config.sizes=[e]},u.prototype.startCooldownTimer=function(){this.cooldown=!0,window.debug.log(`Starting cooldown timer for slot: ${this.config.id}`),setTimeout(()=>{this.cooldown=!1,window.debug.log(`Cooldown timer ended for slot: ${this.config.id}`)},5e3)},u.prototype.isCoolingDown=function(){return this.cooldown};function Re(e){if(window.MMads?.adConfigAPI&&Mntl.RefreshableAds&&!Mntl.RefreshableAds.getRefreshableAdManager()._ads[e.id]){const t=window.MMads.adConfigAPI.searchForConfigKeyById(e.id),{configs:i}=window.MMads.adConfigAPI.getConfigs(),{refresh:n}=i.slots?.[t]??i.default,{timedRefresh:o,refreshAfterSlotRendered:s,timeoutRefreshOnceOnly:a,userClickRefreshSelector:g}=n;if(o||s||g){const l=Mntl.RefreshableAds.getRefreshableAdManager(),f={once:!!a};r.useLmdFormat&&l.exposeKarmaAPI(),o&&(f.timedRefresh={ms:o}),g&&(f.userClickRefresh={target:g}),s&&(f.afterAdSlotRenders={elementId:s}),l.addRefreshableAd(e,f)}}}function Ee(e){const t=e.slot.getSlotId().getDomId(),i=document.getElementById(t),n=new CustomEvent("adViewable",{bubbles:!0});i.dispatchEvent(n)}function Ie(e){const t=e.slot.getSlotId().getDomId(),i=document.getElementById(t),n=new CustomEvent("slotRequested",{bubbles:!0}),o=Mntl.GPT.getSlotById(t),{rord:s,refresh:a,srid:g}=o.targeting,f={...{...s&&{rord:s},...s&&a&&{refresh:a},...g&&{srid:g}},tier:o.config.tier,gam:{slotRequested:{timedMetric:!0,timestamp:Date.now()}}};Mntl.AdMetrics.pushMetrics("slotMetric",{instigator:t,metrics:f}),i.dispatchEvent(n)}let T;function Ce(){return T=T||document.querySelector(".mm-ads-leaderboard-header .wrapper"),T}function xe(e){const t=e.slot.getSlotId().getDomId(),i=document.getElementById(t),n=Q(t),o=e.slot.getSizes().some(q=>q==="fluid"),s=i.parentElement,a=p[t];let g,l;const f=new CustomEvent("adRendered",{bubbles:!0});window.debug.log("Slot render ended",t),window.debug.log("Slot supportsFluid equals",o),typeof i.slotObj=="object"&&(c[i.id].requested=!0),n.el||n.setEl(i),i.classList.add("gpt-requested"),Re(i);const m={gam:{advertiserId:e.advertiserId,creativeId:e.sourceAgnosticCreativeId,creativeTemplateId:e.creativeTemplateId,lineItemId:e.sourceAgnosticLineItemId,dimensions:e.size?`${e.size[0]}x${e.size[1]}`:null,slotRenderEnded:{timedMetric:!0,timestamp:Date.now()}}};if(Mntl.AdMetrics.pushMetrics("slotMetric",{instigator:t,metrics:m}),e.size&&e.size.length&&(e.size[0]===0&&e.size[1]===0&&o?(s.setAttribute("data-ad-width","fluid"),s.setAttribute("data-ad-height","fluid")):(e.slot.getSlotElementId()===Ce()?.id&&(T.style.maxHeight=`${e.size[1]}px`,T.style.overflowY="hidden"),s.setAttribute("data-ad-width",e.size[0]),s.setAttribute("data-ad-height",e.size[1]))),i.dispatchEvent(f),a.rendered=!0,a.args={id:t,slot:e.slot,lid:e.lineItemId,size:e.size,isEmpty:e.isEmpty},a.fn.length>0)for(g=0,l=a.fn.length;g<l;g++)a.fn[g](a.args);Mntl.fnUtilities.iterate(A,(q,le)=>{t.match(new RegExp(le))!==null&&q[le].forEach(bt=>{bt(a.args)})})}function Oe(e){const t=e.slot.getSlotId().getDomId();Mntl.AdMetrics.pushMetrics("slotMetric",{instigator:t,metrics:{gam:{slotOnload:{timedMetric:!0,timestamp:Date.now()}}}})}function ze(e){const t=e.slot.getSlotId().getDomId();Mntl.AdMetrics.pushMetrics("slotMetric",{instigator:t,metrics:{gam:{slotResponseReceived:{timedMetric:!0,timestamp:Date.now()}}}})}function M(e){const t=["mtax","path"],i=Mntl.Targeting.getBlocklist();r.dataProviders?.Scope3DataProvider?.url_classifications?.key_vals&&r.dataProviders.Scope3DataProvider.url_classifications.key_vals.forEach(({key:n,values:o})=>{o&&o.length&&(e[n]=o)}),googletag.cmd.push(()=>{Mntl.fnUtilities.iterate(e,(n,o)=>{if(i.includes(o)){Mntl.Targeting.logBlocklistedKeys(o);return}let s=n[o];R(s)&&(s=h(s),(!Array.isArray(s)||Array.isArray(s)&&t.indexOf(o)===-1)&&(s=s.toString()),window.debug.log(`Setting page targeting key ${o} to ${s}`),googletag.pubads().setTargeting(o,s))})})}function _e(){return r.pageTargeting}function $e(){return d}function qe(e,t){const i=Mntl.fnUtilities.getDeepValue(c,e,"gptSlot");if(!i)return;const n=i.getSizes().map(s=>s==="fluid"?"fluid":[s.getWidth(),s.getHeight()]),o=googletag.sizeMapping().addSize([0,0],n.concat([t])).build();i.defineSizeMapping(o)}function Le(e,t){const i=c[e],n=i?i.gptSlot:null;let o=!1,s;if(!n)return;const a=n.getSizes();for(s=0;s<a.length;s++)a[s].getWidth()===t[0]&&a[s].getHeight()===t[1]&&(o=!0,a.splice(s,1));o&&(n.defineSizeMapping(a),J([i]))}function De(e,t){window.debug.log("Registering callback",e,t);function i(o){p.hasOwnProperty(o)?p[o].fn.push(t):p[o]={},p[o].rendered&&t(p[o].args)}function n(o){A.hasOwnProperty(o)?A[o].push(t):A[o]=[t]}e.forEach(o=>{let s,a;o.indexOf("*")>-1?(s=o.replace("*","(?:(?:.+)|^|$)"),n(s),Mntl.fnUtilities.iterate(p,(g,l)=>{a=l.match(new RegExp(s)),a!==null&&a.length&&i(l)})):(p.hasOwnProperty(o)||te(p,o),i(o))})}function Ue(){return r.isMobile}function Be(){return r.isTablet}function Fe(){return r.isDesktop}function $(e){const t=[];let i;for(i in e){let n=e[i];n=h(n),t.push(`${i}=${encodeURIComponent(n)}`)}return encodeURIComponent(t.join("&"))}function ke(){return $(r.pageTargeting)}function Ge(){return $(r.baseSlotTargeting)}function je(){return $(Object.assign({},r.baseSlotTargeting,r.pageTargeting))}function Ve(){return r.singleRequest}function We(){return r.utils}function Ne(){return r.dfpId}function re(){return r.publisherProvidedId}function Ke(){return r.useLmdFormat}function Qe(){return r.useOxygen}function He(){return r.useInfiniteRightRail}function Je(){return r.loadAdsAboveViewport}function Ye(){return r.sponsIngredients}function Xe(){return r.adLazyOffset||{}}function Ze(){return x}function et(e){e.on("adImpression",t=>{x[e.id]=t,window.dispatchEvent(new CustomEvent("videoAdReceived"))}),e.on("adError",t=>{x[e.id]=t,window.dispatchEvent(new CustomEvent("videoAdReceived"))})}function tt(){return{...r.baseSlotTargeting,...r.pageTargeting,id:r.baseSlotTargeting.id,muid:re(),type:r.baseSlotTargeting.type}}function it(e){if(e.size===null||e.size[0]===1||e.size[1]===1){let t;if(e.id.includes("leaderboard")?t="leaderboard":e.id.includes("square")&&(t="billboard"),t){const n=document.getElementById(e.id).closest(`.${t}`);n.className+=" collapsed"}}}function se(){googletag.cmd.push(()=>{if(!Mntl.CMP)return;const e={},t=Mntl.CMP.hasTargetingConsent();Mntl.CMP.isConsentRequired()?(e.adconsent=t?"y":"n",!r.useLmdFormat||r.geo.isInEurope?(googletag.pubads().setPrivacySettings({nonPersonalizedAds:!t}),window.debug.log(`Mntl.GPT: Non-Lmd or isInEurope (hasTargetingConsent: ${t}), setting non-personalized ads mode: ${!t}`)):r.geo.isInUsa&&(googletag.pubads().setPrivacySettings({restrictDataProcessing:!t}),window.debug.log(`Mntl.GPT: isInUsa (hasTargetingConsent: ${t}), setting restrict data processing mode: ${!t}`))):e.adconsent="na",_(e,!0,!0)})}function ae(){const t=Date.now();let i=!1,n=0;try{(!localStorage.ddmAdSessionTTL||t>localStorage.ddmAdSessionTTL)&&(i=!0,localStorage.setItem("ddmAdSessionTTL",t+432e5)),!i&&localStorage.getItem("ddmAdPageCount")!==null&&(n=parseInt(localStorage.ddmAdPageCount,10)),n++,localStorage.setItem("ddmAdPageCount",n)}catch(o){debug.log("Mntl.GPT: error loading pv from localStorage",o)}return n}function nt(){googletag.cmd.push(()=>{googletag.pubads().updateCorrelator()}),r.pageTargeting.pv=ae(),M(r.pageTargeting)}async function ot(e,t){function i(s,a,g){let l;return Promise.race([s,new Promise((f,m)=>l=setTimeout(m,a,g))]).finally(()=>clearTimeout(l))}const n=Symbol();let o;try{o=await i(e,t,n)}catch(s){if(s===n)console.error("promise passed to promiseTimeout timed out");else return console.error(s),s}return o}function rt(e){function t(i){r.pageTargeting.CFTL=i,M(r.pageTargeting)}if(e){if("cookieDeprecationLabel"in navigator){const i=navigator.cookieDeprecationLabel.getValue();return ot(i,5).then(o=>{t(o)})}return t("no_label"),Promise.resolve()}return Promise.resolve()}function st(e){const t=[];let i,n;for(r=Mntl.fnUtilities.deepExtend(r,e),r.revenueGroupAllowList.length&&r.revenueGroupAllowList.indexOf("square-fixed")===-1&&(r.useInfiniteRightRail=!1),P=rt(r?.geo.isInUsa),typeof r.singleRequest>"u"&&(r.singleRequest=!1),window.debug.log("Mntl.GPT initialized with config",r),Mntl.CMP&&(Mntl.CMP.isOptInConsent()?v.push("displayOnConsent"):se(),Mntl.CMP.onConsentChange(se)),r.useLmdFormat&&(r.pageTargeting.pv=ae()),r.pageTargeting.category=Se(),Object.assign(r.pageTargeting,W()),r.publisherProvidedId&&(r.pageTargeting.muid=r.publisherProvidedId),r.baseSlotTargeting.type=ve(r),we(r.pageTargeting),M(r.pageTargeting),i=0,n=r.initialSlots.length;i<n;i++)t.push(new u().byConfig(r.initialSlots[i].config,r.initialSlots[i].targeting,r.initialSlots[i].gptSlot));googletag.cmd.push(()=>{googletag.pubads().collapseEmptyDivs(!1),window.debug.log("Adding impressionViewable listener"),googletag.pubads().addEventListener("impressionViewable",Ee),window.debug.log("Adding slotRequested listener"),googletag.pubads().addEventListener("slotRequested",Ie),window.debug.log("Adding slotRenderEnded listener"),googletag.pubads().addEventListener("slotRenderEnded",xe),googletag.pubads().addEventListener("slotOnload",Oe),googletag.pubads().addEventListener("slotResponseReceived",ze),window.debug.log("Enabling async rending"),googletag.pubads().enableAsyncRendering(),window.debug.log("Disabling initial load"),googletag.pubads().disableInitialLoad(),r.singleRequest&&(window.debug.log("Enabling single request mode"),googletag.pubads().enableSingleRequest()),window.debug.log("Enabling services"),googletag.enableServices(),r.publisherProvidedId&&googletag.pubads().setPublisherProvidedId(r.publisherProvidedId)}),window.addEventListener("readyForThirdPartyTracking",()=>{j=!0,b.length&&(window.debug.log("Rendering slots after readyForThirdPartyTracking event fired",b),googletag.cmd.push(async()=>(await P,H(b,{changeCorrelator:!1}))),b=[])},{once:!0}),Mntl.GPT.registerCallback(r.adsToCollapse,it),ee(t)}function at(e){const t=document.querySelectorAll(`[id^=${e}]`);if(t.length>0){const{auctionFloorId:i}=t[t.length-1].dataset;return i}}function gt(e){const t=document.querySelectorAll(`[id^=${e}]`);if(t.length>0){const{auctionFloorValue:i}=t[t.length-1].dataset;return i}}function ge(e){const t=e?.classList.contains("gpt-ignore-incrementor");if(!e||t)return;const i=O(e)||e.id;i in d&&(d[i]=d[i]+1,e.id=`${i}-${d[i]}`,e.classList.add("gpt-ignore-incrementor"))}function lt(e=document.body){e.querySelectorAll(".mm-ads-gpt-adunit .wrapper")?.forEach(i=>{ge(i)})}function dt(e){e&&(r.pageTargeting.scrolledDocOrdinal=e,M(r.pageTargeting))}function ct(e){e&&(r.adLazyOffset=e)}function ut(e){k=e}function ft(e){return k[e]==="true"}function pt(){return r}function ht(){return r.dataProviders}function mt(e){r.dataProviders=e}return{init:st,getGptUrl:oe,setMantleDependencies:ut,hasMantleDependency:ft,serializeAllTargeting:je,serializePageTargeting:ke,serializeBaseSlotTargeting:Ge,sortSlotsByPriority:ce,isSingleRequest:Ve,isMobile:Ue,isTablet:Be,isDesktop:Fe,getSlotById:Q,updateBaseSlotTargeting:_,updatePageTargeting:M,getPageTargeting:_e,registerCallback:De,removeUnallowedCharacters:h,Slot:u,getTestIds:de,displaySlots:ee,clearSlots:ue,destroySlots:K,getAllSlots:fe,addRequestSizeToSlot:qe,removeRequestSizeFromSlot:Le,updatePageview:nt,getGptSlotFromSlot:w,getGptSlotsFromSlots:z,getPublisherProvidedId:re,getPageType:Me,getSitePath:ne,getUtils:We,getDebugPageTargeting:W,destroySlotById:he,getDfpId:Ne,getFloorIdByAdUnitType:at,getFloorValueByAdUnitType:gt,getUseLmdFormat:Ke,getUseOxygen:Qe,getUseInfiniteRightRail:He,getLoadAdsAboveViewport:Je,getVideoTargeting:tt,getAdLazyOffset:Xe,getSponsIngredients:Ye,getAdSlotCounters:$e,setAdSlotCounter:ge,setAdSlotCounters:lt,reduceAdSlotCounter:N,resetLmdAdSlotCounter:pe,addVideoAdListeners:et,getPlayerAdResponses:Ze,setScrolledDocOrdinal:dt,setAdLazyOffset:ct,getConfig:pt,getDataProviders:ht,setDataProviders:mt}}();

window.Mntl=window.Mntl||{},Mntl.Targeting=function(){const i=["aid","bts","category","child","ctype","dload","gtemplate","microtags","parent","path","pos","priority","rtd_ias_id","sbj","stax","tile"];function r(){return i}function n(t){window.debug.log(`Mntl.Targeting: Targeting key '${t}' was blocked from the ad call`)}function a(t){t.forEach(o=>{const l=o.getTargetingKeys();l&&l.forEach(e=>{i.includes(e)&&(o.clearTargeting(e),n(e))})})}return{removeBlocklistedSlotTargeting:a,getBlocklist:r,logBlocklistedKeys:n}}();

window.Mntl=window.Mntl||{},Mntl.SCAds=function(B,E,S,L,u){const I="scads-stick-in-parent",y="scads-ad-placed";let C=function(){const t=document.querySelectorAll("[data-item-index]").length>0?"index":"pixel";function n(o,c){return o>=c-50}function s(o,c){return o>=c?(C=n,!0):!1}function a(o,c){return o===c}return t==="pixel"?s:a}();function N(e,t,n,s,a){const o=u.of(document.getElementsByClassName("right-rail")[0]),c=e+n;let l=null,r=null;const m=function(){const i=u.of(document.getElementsByClassName("right-rail__offset")[0]).orElse({offsetTop:0});return()=>i.offsetTop-s}();function d(){return o.flatMap(E.outerHeight)-a}function f(i,h){const p=i.querySelector(".wrapper[data-sizes]"),g=S.pipe(JSON.parse,w=>w.filter(A=>A[1]<h||isNaN(A[1])),JSON.stringify);p.dataset.sizes=g(p.dataset.sizes)}return{reset:()=>{r=m(),l=d()},set(i){const p=u.of(E.getData("height",i)).orElse(t)+n;(r===null||l===null)&&(r=m(),l=d());const g=l-r;return g<c?(i.classList.add("is-hidden"),!1):(g<p?(f(i,g),i.style.height="auto"):i.classList.add(I),i.style.top=[r,"px"].join(""),r+=p,!0)}}}function P(e){const t=e.getElementsByClassName("mntl-sc-block-adslot");return t.length?t:null}function _(e){return u.of(e.getElementsByClassName("js-scads-inline-content")[0]).map(t=>t.children).flatMap(t=>t.length?t:null)}function T(e){const t=e.getElementsByClassName("scads-to-load");return t.length?t:null}function M(e){e.forEach(t=>{t.adSlotBlockEl&&(t.adSlotBlockEl.insertAdjacentElement("afterbegin",t.content),t.ads.flatMap(n=>{Array.prototype.forEach.call(n,s=>{const[a]=s.querySelectorAll(".mm-ads-gpt-adunit .wrapper[data-sizes]");a&&(t.lazyLoad?a.parentElement.classList.add("js-lazy-ad"):a.parentElement.classList.add("js-immediate-ad")),s.classList.add(y)})}))})}function z(){const e=document.querySelectorAll("[data-sc-ads-block-limit]"),t={};return e.forEach(n=>{const s=parseInt(n.getAttribute("data-sc-ads-block-limit"),10),a=0;t[n.id]={limit:s,count:a,el:n}}),t}function H(e,t){let n=!0;for(const s in t){const a=t[s];if(a.el.contains(e)){a.count<a.limit?a.count++:n=!1;break}}return n}function q(e,t,n,s,a,o,c){let l=0,r=0;const m=[];let d,f,i,h,p=0;const g=z(t);if([e,t,n].indexOf(null)>-1)return window.debug.error("Failed attempt to use Mntl.SCAds.");for(;t.length&&e.length&&n.length&&r<n.length;){d=t.shift();const w=d.dataset.itemIndex?parseInt(d.dataset.itemIndex,10):d.offsetTop+l;if(C(w,e[0])&&H(d,g)){const A=++p>c;f=n[r],i=u.of(T(f)),s&&(i=i.map(O=>Array.prototype.filter.call(O,R=>R.classList.contains("right-rail__item")?a.set(R):!0))),m.push({adSlotBlockEl:d,content:f,ads:i,lazyLoad:A}),o?(h=getComputedStyle(f.querySelector(".mm-ads-gpt-adunit")||f),l+=f.offsetHeight+parseInt(h.marginTop,10)+parseInt(h.marginBottom,10),r++):(M(m),m.shift()),e.shift()}}return o&&M(m),!0}function k(e,t){const n=e.getElementsByClassName(y);t.reset(),Array.prototype.forEach.call(n,s=>{s.classList.contains("right-rail__item")&&t.set(s)})}function b(e,t,n){let s=n();const a=document.getElementsByClassName(y),o=new CustomEvent("mntl.rightrail.lock");return function(){s&&!n()?(s=!1,Array.prototype.forEach.call(a,l=>{l.style.top="auto",l.classList.remove("is-hidden")})):!s&&n()&&(s=!0,k(e,t),document.body.dispatchEvent(o))}}function j(e){const t=Array.from(e.querySelectorAll(".js-immediate-ad .wrapper")),n=[];t.forEach(s=>{n.push(new L.Slot().byElement(s))}),L.displaySlots(n)}function v(e){e.querySelectorAll(`.scads-to-load:not(.${y}) .wrapper`).forEach(n=>{n.classList.add("gpt-ignore-incrementor")})}function x(e){e||(e=document);const t=u.of(e.querySelectorAll("[data-sc-content-positions]")[0]||e.dataset&&e.dataset.scContentPositions&&e),n=u.of(e),s=S.curry(E.getData),a=u.of(e.classList&&e.classList.contains("sc-ad-container")&&e||e.getElementsByClassName("sc-ad-container")[0]||e.getElementsByClassName("mntl-sc-page")[0]),o=N(t.map(s("scMinTrackHeight")).orElse(250),t.map(s("scMaxTrackHeight")).orElse(0),t.map(s("scAdTrackSpacing")).orElse(100),t.map(s("scAdLabelHeight")).orElse(0),t.map(s("scAdBottomOffset")).orElse(0));if(!(e.querySelector(".article-right-rail")&&e.querySelector(".article-right-rail").offsetHeight>0)){const l=function(r){return()=>window.matchMedia(["(min-width: ",r,")"].join("")).matches}(t.flatMap(s("scBreakpoint")));q(t.flatMap(s("scContentPositions")),a.map(P).flatMap(S.toArray),n.isNothing()?t.flatMap(_):n.flatMap(_),l(),o,t.flatMap(s("scOptimizeSetup")),t.map(s("scLoadImmediate")).orElse(0)),v(e),Mntl.GPT.setAdSlotCounters(e),j(e),Mntl.LazyAds.init(),window.addEventListener("resize",Mntl.throttle(b(e,o,l),50)),window.addEventListener("embedReflow",()=>{l()&&k(e,o)})}}return B.onLoad(()=>{x(document.querySelector(".mntl-article"))}),{init:x}}(window.Mntl.utilities||{},window.Mntl.domUtilities||{},window.Mntl.fnUtilities||{},window.Mntl.GPT||{},window.Mntl.Maybe||{});

window.Mntl=window.Mntl||{},Mntl.RevenueTracking=function(s){const f=["an","qsrc","q","am","dqi","askid"],p="A1",o={shareurlbuttons:{facebook:["S0","S8"],stumble:["S1","S9"],reddit:["S2","S10"],pinterest:["S3","S11"],google:["S4","S12"],linkedin:["S5","S13"],twitter:["S6","S14"],permalink:["S7","S15"],social1:["S64","S65"]},mobilesharebutton2:{facebook:["S16","S24"],stumble:["S17","S25"],reddit:["S18","S26"],pinterest:["S19","S27"],google:["S20","S28"],linkedin:["S21","S29"],twitter:["S22","S30"],permalink:["S23","S31"]},cmssocialpub:{facebook:["S32","S40"],stumble:["S33","S41"],reddit:["S34","S42"],pinterest:["S35","S43"],google:["S36","S44"],linkedin:["S37","S45"],twitter:["S38","S46"],permalink:["S39","S47"]},cmsocialposting:{facebook:["S48","S56"],stumble:["S49","S57"],reddit:["S50","S58"],pinterest:["S51","S59"],google:["S52","S60"],linkedin:["S53","S61"],twitter:["S54","S62"],permalink:["S55","S63"]},socialads1:{facebook:["S66","S67"],twitter:["S68","S69"]},con:{out:["S76"],tbl:["S77"],facebook:["S78"],oth:["S79"]},email:{exp_nl:["MO"],cn_nl:["M1"],abt_td:["M2"],ecou:["M3"],do:["M4"],welc:["M5"]},ity:{indexsem:["A1"],display:["A2"],boostsem:["A3"],boostorg:["A4"],web:["A5"],boostdd:["A6"]}};function _(t){if(t){for(const n in o)for(const e in o[n])if(t===o[n][e][0])return o[n][e][1]}return!1}function a(t,n){const e=s.getItem(t),i=e?_(e):n;i&&s.setItem(t,i,null,"/",Mntl.utilities.getDomain())}function d(t,n){s.setItem("askoc",n,1800,"/",Mntl.utilities.getDomain()),f.forEach(i=>{t[i]&&s.setItem(i,t[i].toLowerCase(),1800,"/",Mntl.utilities.getDomain())})}function b(){const t=JSON.parse(window.sessionStorage.getItem("abtUtm")),n=Mntl.utilities.getQueryParams();let e={utm_content:null,utm_medium:null,utm_source:null,utm_campaign:null,utm_term:null};return Object.keys(n).map(m=>e.hasOwnProperty(m)?(e[m]=n[m],m):!1).filter(m=>m!==!1).length?window.sessionStorage.setItem("abtUtm",JSON.stringify(e)):t&&(e=t),e}function l(){const t=Mntl.utilities.getQueryParams(),n=t.utm_campaign?t.utm_campaign.toLowerCase():"",e=t.utm_source?t.utm_source.toLowerCase():"",i=t.utm_medium?t.utm_medium.toLowerCase():"",m=t.o?t.o.toLowerCase():"",r=t.ity?t.ity.toLowerCase():"",{utm_content:c}=t;let u;const S=b();let g;o[n]&&o[n][e]?[u]=o[n][e]:o[i]&&o[i][e]&&(i==="email"||i==="con")?[u]=o[i][e]:m&&(u=r?o.ity[r][0]:p,d(t,m)),(u||c||s.getItem("mpt")||s.getItem("GMCID"))&&(g=i==="con"?c:u,a("GMCID",u),a("mpt",g)),Mntl.GPT&&Mntl.GPT.updateBaseSlotTargeting({mpt:s.getItem("mpt"),o:s.getItem("askoc"),uco:S.utm_content,umd:S.utm_medium,usc:S.utm_source,uca:S.utm_campaign,utr:S.utm_term})}return l(),s.setItem("lb_ld","search",null,"/",Mntl.utilities.getDomain()),{setTrackingCookies:l}}(window.docCookies);

window.MMads=window.MMads||{},MMads.utilities=function(){function o(n,i){return!!(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING)}return{isElementAfter:o}}();

window.Allrecipes=window.Allrecipes||{},window.Mntl=window.Mntl||{},window.Allrecipes.GPT=function(){return{generateSlotId:e=>e.chapter===0&&e.index>=0?e.id:`${e.type}-${e.chapter}-${e.index}-d`}}();

window.Mntl=window.Mntl||{},window.MMads=window.MMads||{},Mntl.RefreshableAds=function(){let f;const _=new Set(["mob-adhesive-banner-fixed","adhesive","leaderboard-fixed-0","leaderboard-flex-hp","button1","button2"]),u={leaderboard:[728,90],square:[300,250]};class R{constructor(e,s){this._el=e,this._slotObj=Mntl.GPT.getSlotById(this._el.id),this._rord=0,this._tord=0,this._cord=0,this._sord=0,this._inFlight=!1,this._sizesModified=!1,this._refreshTypes=Object.keys(s).map(t=>t.replace("Refresh","")).filter(t=>t!=="once"),this._refreshTypes.forEach(t=>{switch(t){case"timed":this._timedRefresh={...s.timedRefresh,once:s.once||!1,refreshTimeoutRunning:!1,refreshTimeoutEnabled:!0,timer:parseInt(s.timedRefresh.ms)/1e3},this._addAfterAddRenderedHandler(this._timedRefresh.once);break;case"afterAdSlotRenders":this._afterAdSlotRenders={...s.afterAdSlotRenders},this.currentRefresh="afterAdSlotRenders",Mntl.GPT.registerCallback([this._afterAdSlotRenders.elementId],this._refreshMe.bind(this));break;case"userClick":if(this._userClick={...s.userClickRefresh,els:document.querySelectorAll(s.userClickRefresh.target),handler:()=>{this._currentRefresh="click",this._refreshMe()}},this._userClick.els.length===0){window.debug.log(`No target elements found for user click refresh. Disabling click refresh for ${this._el.id}`),this._refreshTypes=this._refreshTypes.filter(d=>d!=="userClick");break}this._addAfterAddRenderedHandler(s.once),this._userClick.els.forEach(d=>{d.addEventListener("click",this._userClick.handler),d.getElementsByTagName("a").forEach(r=>{r.addEventListener("click",i=>{i.stopPropagation()},!0)})})}})}_addAfterAddRenderedHandler(e){this._adRenderedHandlerAdded||(this._el.addEventListener("adRendered",()=>{this._afterAdRenderedHandler()},{once:e}),this._adRenderedHandlerAdded=!0)}_afterAdRenderedHandler(){this._completeInFlight(),this._modifySizes(),this.startTimeout()}_isNonTimedRefreshSlot(){return this._refreshTypes.filter(e=>e!=="timed").length>0}_isRefreshReady(){const e=this._timedRefresh&&this._timedRefresh.refreshTimeoutEnabled;return!this._inFlight&&(this._isNonTimedRefreshSlot()||e)&&this.shouldRefresh(this._getBrowserWindowFocused())}_isTimerReady(){return!!(this._slotObj&&this._slotObj.requested&&this._timedRefresh.refreshTimeoutEnabled&&!this._timedRefresh.refreshTimeoutRunning&&!this._inFlight)}_timerCountdown(){this._timedRefresh.timer>0?this._timedRefresh.timer--:(window.debug.log(`Mntl.RefreshableAds.RefreshableAd._timerCountdown [${this._el.id}] calling refresh`,this),this._timedRefresh.timer--,this._currentRefresh="timed",this._refreshMe())}_stopTimeout(){window.debug.log(`Mntl.RefreshableAds.RefreshableAd._stopTimeout [${this._el.id}] stopping timeout`,this),clearInterval(this._timedRefresh.interval),this._timedRefresh.interval=!1,this._timedRefresh.timer=-1,this._timedRefresh.refreshTimeoutRunning=!1}_removeTimedRefresh(){window.debug.log(`Mntl.RefreshableAds.RefreshableAd._removeTimedRefresh [${this._el.id}] removing timed refresh`,this),this._timedRefresh=null,this._refreshTypes=this._refreshTypes.filter(e=>e!=="timed")}_startInFlight(){window.debug.log(`Mntl.RefreshableAds.RefreshableAd._startInFlight [${this._el.id}] setting inFlight to true`,this),this._inFlight=!0}_completeInFlight(){window.debug.log(`Mntl.RefreshableAds.RefreshableAd._completeInFlight [${this._el.id}] setting inFlight to false`,this),this._inFlight=!1}_modifySizes(){if(!this._sizesModified){this._sizesModified=!0;const s=this._el.id.match(/leaderboard|square/);s&&u[s[0]]&&this._slotObj.overrideSizes(u[s[0]])}}_refreshMe(){if(this._slotObj.isCoolingDown()){window.debug.log(`Mntl.RefreshableAds.RefreshableAd._isCoolingDown [${this._el.id}] is cooling down, skipping refresh`,this);return}this._refreshTypes.includes("timed")&&this._stopTimeout(),this._isRefreshReady()&&(this._rord+=1,this._slotObj.updateTargeting({rord:this._rord}),this._currentRefresh==="timed"?(this._tord+=1,this._slotObj.updateTargeting({tord:this._tord}),this._slotObj.updateTargeting({cord:""}),this._slotObj.updateTargeting({sord:""})):this._currentRefresh==="click"?(this._cord+=1,this._slotObj.updateTargeting({tord:""}),this._slotObj.updateTargeting({sord:""}),this._slotObj.updateTargeting({cord:this._cord})):this._currentRefresh==="scroll"&&(this._sord+=1,this._slotObj.updateTargeting({tord:""}),this._slotObj.updateTargeting({cord:""}),this._slotObj.updateTargeting({sord:this._sord})),this._slotObj.updateTargeting({refresh:this._currentRefresh}),this._startInFlight(),window.debug.log(`Mntl.RefreshableAds.RefreshableAd._refreshMe [${this._el.id}] refreshing ad`,this),Mntl.GPT.displaySlots([this._slotObj]),this._refreshTypes.includes("timed")&&this._timedRefresh.once&&(window.debug.log(`Mntl.RefreshableAds.RefreshableAd._refreshMe [${this._el.id}] timedRefresh.once is true, removing refresh`,this),this._removeTimedRefresh()))}_getBrowserWindowFocused(){return document.visibilityState==="visible"}_getViewabilityElement(){const e=this._el;let s=!1;return e&&e.firstElementChild&&(e.firstElementChild.firstElementChild&&(e.firstElementChild.children.length>1?s=e.firstElementChild:e.firstElementChild.firstElementChild.tagName==="IFRAME"&&(s=e.firstElementChild.firstElementChild)),s===!1&&(s=e.firstElementChild)),s}shouldRefresh(e){let s=!1,t=0,d=0;if(!e||this._el.offsetParent===null)return!1;if(_.has(this._el.id))return!0;const r=this._getViewabilityElement();if(!r)return window.debug.log(`Could not get viewability element for ${this._el.id}`),!1;const i=r.getBoundingClientRect(),h=Math.round(i.height/2),n=[Math.round(i.left+1),Math.round(i.top+1)],a=[Math.round(i.right-1),Math.round(i.top+1)],p=[Math.round(i.left+1),Math.round(i.bottom-1)],M=[Math.round(i.right-1),Math.round(i.bottom-1)],k=[n[0],n[1]+h],v=[a[0],a[1]+h],b=[n,a,p,M,k,v];let l,c,m,o;for(l=0;l<b.length;l++)if([c,m]=b[l],o=document.elementFromPoint(c,m),o===r&&r.contains(o)){if(d+=1,d===4){s=!0;break}}else if(t+=1,t===3)break;return s}isRefreshTimeoutEnabled(){return this._refreshTypes.includes("timed")&&this._timedRefresh.refreshTimeoutEnabled}pauseTimeout(){this._refreshTypes.includes("timed")&&this._timedRefresh.refreshTimeoutRunning&&(window.debug.log(`Mntl.RefreshableAds.RefreshableAd.pauseTimeout [${this._el.id}] pausing timeout: ${this._timedRefresh.timer} seconds`,this),clearInterval(this._timedRefresh.interval),this._timedRefresh.interval=!1,this._timedRefresh.refreshTimeoutRunning=!1)}startTimeout(){this._refreshTypes.includes("timed")?this._isTimerReady()&&(this._timedRefresh.refreshTimeoutRunning=!0,this._timedRefresh.timer>=0?window.debug.log(`Mntl.RefreshableAds.RefreshableAd.startTimeout [${this._el.id}] restarting refresh timer: ${this._timedRefresh.timer} seconds`,this):(this._timedRefresh.timer=parseInt(this._timedRefresh.ms)/1e3,window.debug.log(`Mntl.RefreshableAds.RefreshableAd.startTimeout [${this._el.id}] starting refresh timer: ${this._timedRefresh.timer} seconds`,this)),this._timedRefresh.interval=setInterval(this._timerCountdown.bind(this),1e3)):window.debug.log(`Mntl.RefreshableAds.RefreshableAd.startTimeout [${this._el.id}] could not start - not a timedRefresh ad`,this)}disableTimedRefresh(){this._refreshTypes.includes("timed")?(window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableTimedRefresh [${this._el.id}] disabling timed refresh`,this),this.pauseTimeout(),this._timedRefresh.refreshTimeoutEnabled=!1,this._refreshTypes=this._refreshTypes.filter(e=>e!=="timed")):window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableTimedRefresh [${this._el.id}] could not disable - not a timedRefresh ad`,this)}disableAfterAdSlotRendersRefresh(){this._refreshTypes.includes("afterAdSlotRenders")?(window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableAfterAdSlotRendersRefresh [${this._el.id}] disabling afterAdSlotRenders refresh`,this),this._refreshTypes=this._refreshTypes.filter(e=>e!=="afterAdSlotRenders")):window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableAfterAdSlotRendersRefresh [${this._el.id}] could not disable - not an afterAdSlotRenders ad`,this)}disableUserClickRefresh(){this._refreshTypes.includes("userClick")?(window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableClickRefresh [${this._el.id}] disabling click refresh`,this),this._refreshTypes=this._refreshTypes.filter(e=>e!=="userClick"),this._userClick.els.forEach(e=>{e.removeEventListener("click",this._userClick.handler)})):window.debug.log(`Mntl.RefreshableAds.RefreshableAd.disableClickRefresh [${this._el.id}] could not disable - not a click refresh ad`,this)}reEnableTimedRefresh(){this._refreshTypes.includes("timed")?(window.debug.log(`Mntl.RefreshableAds.RefreshableAd.reEnableTimedRefresh [${this._el.id}] enabling timed refresh`,this),this._timedRefresh.refreshTimeoutEnabled=!0,this.startTimeout()):window.debug.log(`Mntl.RefreshableAds.RefreshableAd.reEnableTimedRefresh [${this._el.id}] could not enable - not a timedRefresh ad`,this)}}class g{constructor(){this._ads={},this._listeners=["scroll","visibilitychange","focus","blur","click","windowFocusChange"],this._listenersActive=!1,this._debouncedCheckTimedRefreshAds=null,this._addXDomainListener(),this._setUpDebouncedCheckTimedRefreshAds()}_getActiveTimedRefreshAds(){return Object.keys(this._ads).filter(s=>this._ads[s].isRefreshTimeoutEnabled())}_setUpDebouncedCheckTimedRefreshAds(){function e(s,t){let d;return function(...i){function h(){clearTimeout(d),s(...i)}clearTimeout(d),d=setTimeout(h,t)}}this._debouncedCheckTimedRefreshAds=e(this.checkTimedRefreshAds.bind(this),250)}_addXDomainListener(){window.addEventListener("message",e=>{if(typeof e.data=="string"&&e.data.indexOf("karmaStopRefresh")!==-1)try{const t=JSON.parse(e.data).slot,r=Mntl.RefreshableAds.getRefreshableAdManager().getRefreshableAd(t);r&&(r.disableTimedRefresh(),r.disableAfterAdSlotRendersRefresh(),r.disableUserClickRefresh())}catch(s){window.debug.log(`Mntl.RefreshableAds.RefreshableAdManager X-domain listener err: ${s.toString()}`)}},!1)}addRefreshableAd(e,s){const t=new R(e,s);this._ads[e.id]=t,this.checkTimedRefreshAds()}removeRefreshableAd(e){const s=this.getRefreshableAd(e);s&&(s.disableTimedRefresh(),s.disableAfterAdSlotRendersRefresh(),s.disableUserClickRefresh()),delete this._ads[e],window.debug.log(`Mntl.RefreshableAds.RefreshableAdManager refreshable ad ${e} removed`)}getRefreshableAd(e){return this._ads[e]}checkTimedRefreshAds(){const e=this._getActiveTimedRefreshAds();e.forEach(s=>{const t=this._ads[s];t.shouldRefresh(t._getBrowserWindowFocused())?t.startTimeout():t.pauseTimeout()}),e.length>0&&!this._listenersActive?(window.debug.log("Mntl.RefreshableAds.RefreshableAdManager.checkTimedRefreshAds adding event listeners",this),this._listenersActive=!0,this._listeners.forEach(s=>{window.addEventListener(s,this._debouncedCheckTimedRefreshAds,{passive:!0,capture:!0})})):e.length<=0&&this._listenersActive&&(window.debug.log("Mntl.RefreshableAds.RefreshableAdManager.checkTimedRefreshAds removing event listeners",this),this._listenersActive=!1,this._listeners.forEach(s=>{window.removeEventListener(s,this._debouncedCheckTimedRefreshAds,{passive:!0,capture:!0})}))}exposeKarmaAPI(){function e(t){const d=t.replace("div-gpt-",""),r=Mntl.RefreshableAds.getRefreshableAdManager(),i=r.getRefreshableAd(d);i?(i.reEnableTimedRefresh(),r.checkTimedRefreshAds()):window.debug.log(`Mntl.RefreshableAds.RefreshableAdManager karmaAPI reEnableTimedRefreshOnSlot ${d} does not exist.`)}function s(t){const d=t.replace("div-gpt-",""),r=Mntl.RefreshableAds.getRefreshableAdManager(),i=r.getRefreshableAd(d);i?(i.disableTimedRefresh(),r.checkTimedRefreshAds()):window.debug.log(`Mntl.RefreshableAds.RefreshableAdManager karmaAPI disableTimedRefreshOnSlot ${t} does not exist.`)}window.karma={reEnableTimedRefreshOnSlot:e,disableTimedRefreshOnSlot:s}}}function A(){return f}function T(){f=new g}return T(),{getRefreshableAdManager:A,RefreshableAd:R}}();

/*! lazysizes - v5.3.2 */

!function(e,t){var a=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",a,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?a():e.addEventListener("lazyunveilread",a,!0)}(window,function(e,i,o){"use strict";var l,d,u={};function s(e,t,a){var n,r;u[e]||(n=i.createElement(t?"link":"script"),r=i.getElementsByTagName("script")[0],t?(n.rel="stylesheet",n.href=e):(n.onload=function(){n.onerror=null,n.onload=null,a()},n.onerror=n.onload,n.src=e),u[e]=!0,u[n.src||n.href]=!0,r.parentNode.insertBefore(n,r))}i.addEventListener&&(l=function(e,t){var a=i.createElement("img");a.onload=function(){a.onload=null,a.onerror=null,a=null,t()},a.onerror=a.onload,a.src=e,a&&a.complete&&a.onload&&a.onload()},addEventListener("lazybeforeunveil",function(e){var t,a,n;if(e.detail.instance==o&&!e.defaultPrevented){var r=e.target;if("none"==r.preload&&(r.preload=r.getAttribute("data-preload")||"auto"),null!=r.getAttribute("data-autoplay"))if(r.getAttribute("data-expand")&&!r.autoplay)try{r.play()}catch(e){}else requestAnimationFrame(function(){r.setAttribute("data-expand","-10"),o.aC(r,o.cfg.lazyClass)});(t=r.getAttribute("data-link"))&&s(t,!0),(t=r.getAttribute("data-script"))&&(e.detail.firesLoad=!0,s(t,null,function(){e.detail.firesLoad=!1,o.fire(r,"_lazyloaded",{},!0,!0)})),(t=r.getAttribute("data-require"))&&(o.cfg.requireJs?o.cfg.requireJs([t]):s(t)),(a=r.getAttribute("data-bg"))&&(e.detail.firesLoad=!0,l(a,function(){r.style.backgroundImage="url("+(d.test(a)?JSON.stringify(a):a)+")",e.detail.firesLoad=!1,o.fire(r,"_lazyloaded",{},!0,!0)})),(n=r.getAttribute("data-poster"))&&(e.detail.firesLoad=!0,l(n,function(){r.poster=n,e.detail.firesLoad=!1,o.fire(r,"_lazyloaded",{},!0,!0)}))}},!(d=/\(|\)|\s|'/)))});
window.Mntl=window.Mntl||{},Mntl.RightRail=function(C,h,f,g,p){const H="rightrail-ad-placed",d=f.curry(h.getData);let m=[],l,s,u,c,y,S,r,R;function A(e,t){const n=e.querySelector(".wrapper[data-sizes]");if(n){const i=f.pipe(JSON.parse,o=>o.filter(a=>a[1]<t||isNaN(a[1])),JSON.stringify);n.dataset.sizes=i(n.dataset.sizes)}}function _(e,t,n){for(const i of n)if(i.offsetTop>=t-50){i.appendChild(e);break}}function O(e,t,n){n.forEach(i=>{Number(i.dataset.itemIndex)===t&&i.appendChild(e)})}function j(e,t,n){const i=[...n].filter(a=>a.hasAttribute("data-item-index")),o=i.length>0?"index":"pixel";e.parentElement.classList.add("mm-ads-inline-ad-removed"),o==="index"?O(e,t,i):_(e,t,n)}function w(e,t){e.style.height="auto",e.dataset.noSticky="",A(e,t)}function k(e,t){const n=e.querySelector(".mm-ads-gpt-adunit .wrapper[data-sizes]");n&&(t+1>R?n.parentElement.classList.add("js-lazy-ad"):n.parentElement.classList.add("js-immediate-ad"))}function L(e){return p.of(h.getData("height",e)).orElse(S)+c}function M(){return y+c}function q(e){return e>=M()}function v(e,t){return t>=e}function T(){return document.querySelector(".article-right-rail").offsetHeight-u}function E(e){const t=e.classList.contains("mm-ads-native"),n=e.classList.contains("dynamic-inline");return t||n}function b(e,t){if(r&&r.length>0&&r[t]){const n=[...document.querySelectorAll(".mntl-sc-block-adslot")],i=r[t];e.dataset.rightRailIndex=e.dataset.rightRailIndex||t,j(e,i,n.slice(t)),e.classList.contains("mm-ads-native")&&e.querySelector(".scads-to-load")&&k(e,t)}else console.error("An inline ad is being set when not enough ad slots/positions are avaliable.")}function I(e,t,n=!1){const i=L(e),o=t===0;if(q(s)){if(!v(i,s)&&!o&&w(e,s),s-=i,o||(e.style.marginTop=`${c}px`),e.classList.add(H),k(e,t),n){const a=document.querySelector(".mm-ads-right-rail .sc-billboard-group > .mntl-block:empty:not(.mm-ads-inline-ad-removed)");a?a.appendChild(e):console.error("We are attempting to append another ad in a block that cannot exist, we should review why we have more ads than blocks avaliable")}}else m.push({ad:e,index:t}),e.parentNode&&(e.parentNode.innerHTML="")}function N(e){const t=e.querySelector(".mm-ads-sc-sticky-square-ad");Mntl.ScLockBillboards.removeStickyEvent(t),e.style.height=`${e.dataset.height}px`,t.style.transform="none",Mntl.ScLockBillboards.applySticky(t),delete e.dataset.noSticky}function B(){if(l){const e=l,t=T(),n=t-e;l=t,s=s+n;const i=document.querySelector("[data-no-sticky]");i&&i.offsetHeight<n&&N(i)}else console.error("The updateRightRailSpace function was called before the right rail has been set. This not intended and will output this error instead of updating the right rail.")}function P(){const e=m;m=[],B(),e.forEach(t=>{E(t.ad)?b(t.ad,t.index):I(t.ad,t.index,!0)})}function F(){const t=document.querySelector(".article-right-rail").querySelectorAll(".right-rail__item, .mm-ads-native, .dynamic-inline");l=s=T();for(const[n,i]of t.entries()){if(E(i)){b(i,n);continue}I(i,n,!1)}}function x(){const e=[...document.querySelectorAll(".article-right-rail .js-immediate-ad:not(.js-immediate-ad-loaded)")],t=[];[...document.querySelectorAll("[data-right-rail-index] .js-immediate-ad:not(.js-immediate-ad-loaded)")].forEach(i=>{e.splice(Number(i.dataset.rightRailIndex),0,i)}),e.forEach(i=>{i.classList.add("js-immediate-ad-loaded"),i.querySelectorAll(".wrapper").forEach(a=>{t.push(new g.Slot().byElement(a))})}),g.displaySlots(t)}function U(){[...document.querySelectorAll(".article-right-rail [data-right-rail-index]")].forEach(e=>{const t=e.querySelector(".js-lazy-ad");t&&Mntl.LazyAds.removeLazyAd(t.id),e.remove()})}function z(e,t){u=e.map(t("scAdBottomOffset")).orElse(0),c=e.map(t("scAdTrackSpacing")).orElse(100),y=e.map(t("scMinTrackHeight")).orElse(250),S=e.map(t("scMaxTrackHeight")).orElse(0),r=e.flatMap(t("scContentPositions")),R=e.map(t("scLoadImmediate")).orElse(0),F(),U(),Mntl.GPT.setAdSlotCounters(),document.querySelector(".mm-ads-right-rail").style.display="block",Mntl.LazyAds.init(),x(),Mntl.GPT.getUseInfiniteRightRail()&&new Mntl.InfiniteRightRailManager(l,s,u);const n=new ResizeObserver(Mntl.debounce(()=>{P(),x(),Mntl.LazyAds.init()},1500)),i=document.querySelector(".article-content").querySelectorAll("iframe");i.length>0&&i.forEach(o=>n.observe(o))}return C.onLoad(()=>{const e=p.of(document.querySelector("[data-sc-content-positions]")),t=Mntl.Commerce&&Mntl.Commerce.getIsCommerceInfoLoaded&&Mntl.Commerce.getIsCommerceInfoLoaded(),n=document.querySelector(".article-right-rail").offsetHeight>0;(function(o){return()=>n&&window.matchMedia(["(min-width: ",o,")"].join("")).matches})(e.flatMap(d("scBreakpoint")))()&&(document.querySelector(".mntl-sc-block-commerce__image")&&!t?document.addEventListener("commerce-info-loaded",()=>z(e,d)):z(e,d))}),{removeStickySettings:w,removeSizes:A,getMaxHeightPadding:L,getMinHeightPadding:M,roomForAd:q,roomForStickyFunctionality:v}}(window.Mntl.utilities||{},window.Mntl.domUtilities||{},window.Mntl.fnUtilities||{},window.Mntl.GPT||{},window.Mntl.Maybe||{});

window.Mntl=window.Mntl||{},window.Mntl.InfiniteRightRailManager=function(s){class l{constructor(t,i,e,n,a,d){this.DOMElement=t,this.billboardContainer=this.DOMElement.querySelector(".mm-ads-square"),this.wrapper=this.DOMElement.querySelector(".wrapper"),this.offset=a,this.updateDataAttributesForBillboardBlueprint(e,d),i&&(window.debug.log("Mntl.InfiniteRightRailManager: No room a full 300x600 container, but enough room to place a 300x250 ad unit"),Mntl.RightRail.removeStickySettings(this.DOMElement.querySelector(".right-rail__item"),n))}updateDataAttributesForBillboardBlueprint(t,i){this.wrapper.innerHTML="",delete this.wrapper.dataset.googleQueryId,this.DOMElement.removeAttribute("id"),this.DOMElement.querySelector(".right-rail__item").removeAttribute("id"),this.DOMElement.querySelector(".right-rail__item").style.height="",this.billboardContainer.style.transform="",this.billboardContainer.classList.remove("is-requested"),this.billboardContainer.classList.remove("js-immediate-ad"),this.billboardContainer.classList.add("js-lazy-ad"),i&&(this.billboardContainer.dataset.infiniteAdFromResize=""),delete this.billboardContainer.dataset.adWidth,delete this.billboardContainer.dataset.adHeight,delete this.wrapper.dataset.rightRailAdDestroyed,this.DOMElement.id=`infinite-right-rail-block-${t}`,this.billboardContainer.id=`infinite-ad-unit-container-${t}`,this.billboardContainer.classList.add("infinite-ad-unit-container"),this.wrapper.id="square-fixed",this.wrapper.dataset.sizes='[[300, 250],[299, 251],"fluid"]'}loadBillboardImmediately(){this.billboardContainer.classList.remove("js-lazy-ad"),this.billboardContainer.classList.add("js-immediate-ad"),Mntl.GPT.displaySlots([new Mntl.GPT.Slot().byElement(this.wrapper)])}placeInRightRail(){window.debug.log(`Mntl.InfiniteRightRailManager: Placing ${this.wrapper.id}`),document.querySelector(".js-scads-inline-content").appendChild(this.DOMElement);const t=Mntl.utilities.isElementVisibleY(this.billboardContainer,"",this.offset),i=this.billboardContainer.getBoundingClientRect().top<=0;if(t)this.loadBillboardImmediately();else{if(i){window.debug.log("Mntl.InfiniteRightRailManager: Skipped Infinite Right Rail ad"),this.billboardContainer.classList.add("infinite-lazy-ad-skipped"),this.wrapper.removeAttribute("id");const e=new CustomEvent("slotRequested",{detail:{skipDestroy:!0}});this.wrapper.dispatchEvent(e)}Mntl.LazyAds.init()}}}class r{constructor(t,i,e){this.rightRailTotalHeight=t,this.currentRightRailSpace=i,this.adBottomOffset=e,this.usesResizeInfiniteAds=!1;const n=document.querySelectorAll(".article-right-rail .mm-ads-right-rail .mntl-block .scads-to-load");this.billboardAdBlueprint=n[n.length-1].parentElement.cloneNode(!0);const a=document.querySelector("html").dataset.lazyOffset||"200";this.offset=s.sanitizeStringToDecimal(a),this.maxHeightPadding=window.Mntl.RightRail.getMaxHeightPadding(this.billboardAdBlueprint),this.minHeightPadding=window.Mntl.RightRail.getMinHeightPadding(),this.rightRailAdUnitIndex=0,this.attemptToPlaceNewRightRailAd(),document.body.addEventListener("mntl.infiniterightrail.enable.expand",this.enableRighRailResizeObserver.bind(this),{once:!0}),document.body.dispatchEvent(new CustomEvent("mntl.infiniterightrail.loaded"))}enableRighRailResizeObserver(){new ResizeObserver(this.rightRailIncreasedHeight.bind(this)).observe(document.querySelector(".article-right-rail"))}rightRailIncreasedHeight(){const i=document.querySelector(".article-right-rail").offsetHeight-this.adBottomOffset;i>this.rightRailTotalHeight&&(this.usesResizeInfiniteAds||(this.usesResizeInfiniteAds=!0),this.currentRightRailSpace+=i-this.rightRailTotalHeight,this.rightRailTotalHeight=i,window.debug.log(`Mntl.InfiniteRightRailManager: Usable right rail space is now ${this.currentRightRailSpace}px`),this.mostRecentInfiniteAdHasLoaded()&&(this.attemptToPlaceNewRightRailAd(),Mntl.LazyAds.init()))}mostRecentInfiniteAdHasLoaded(){const t=document.querySelectorAll(".infinite-ad-unit-container");if(t.length===0)return!0;const i=t[t.length-1];return i.classList.contains("is-requested")||i.classList.contains("js-immediate-ad")||i.classList.contains("infinite-lazy-ad-skipped")}attemptToPlaceNewRightRailAd(){const{roomForAd:t,roomForStickyFunctionality:i}=Mntl.RightRail;if(this.usesResizeInfiniteAds&&i(this.maxHeightPadding,this.currentRightRailSpace,this.offset))this.placeNewRightRailBillboard(!1),window.debug.log(`Mntl.InfiniteRightRailManager: Decrementing space by ${this.maxHeightPadding}px`),this.currentRightRailSpace-=this.maxHeightPadding;else if(!this.usesResizeInfiniteAds&&t(this.currentRightRailSpace)){const e=i(this.maxHeightPadding,this.currentRightRailSpace,this.offset);this.placeNewRightRailBillboard(!e);const n=e?this.maxHeightPadding:this.minHeightPadding;window.debug.log(`Mntl.InfiniteRightRailManager: Decrementing space by ${n}`),this.currentRightRailSpace-=n}else window.debug.log("Mntl.InfiniteRightRailManager: No room for a new Desktop Load and Destroy Ad unit");window.debug.log(`Mntl.InfiniteRightRailManager: Only ${this.currentRightRailSpace}px of space remains of ${this.rightRailTotalHeight}px`)}_destroyRightRailAd(){const t=document.querySelectorAll(".article-right-rail .square:not(.infinite-lazy-ad-skipped) .wrapper.gpt-requested");t.length>=8&&(Mntl.GPT.destroySlotById(t[0].id),t[0].parentElement.remove()),this.attemptToPlaceNewRightRailAd()}placeNewRightRailBillboard(t){const i=new l(this.billboardAdBlueprint.cloneNode(!0),t,++this.rightRailAdUnitIndex,this.currentRightRailSpace,this.usesResizeInfiniteAds);let e;new Promise(a=>{e=a,i.wrapper.addEventListener("slotRequested",e)}).then(a=>{!a.detail||!a.detail.skipDestroy?this._destroyRightRailAd(a):this.attemptToPlaceNewRightRailAd(),i.wrapper.removeEventListener("slotRequested",e)}).catch(a=>console.log(a)),i.placeInRightRail(),Mntl.ScLockBillboards.addStickyBillboardListener([i.wrapper])}}return r}(window.Mntl.fnUtilities||{});

